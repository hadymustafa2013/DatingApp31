{"version":3,"sources":["webpack:///$_lazy_route_resource lazy namespace object","webpack:///src/app/_guards/auth.guard.ts","webpack:///src/app/_guards/prevent-unsaved-changes.guard.ts","webpack:///src/app/_models/Pagination.ts","webpack:///src/app/_resolvers/lists.resolver.ts","webpack:///src/app/_resolvers/member-detail.resolver.ts","webpack:///src/app/_resolvers/member-edit.resolver.ts","webpack:///src/app/_resolvers/member-list.resolver.ts","webpack:///src/app/_resolvers/messages.resolver.ts","webpack:///src/app/_services/alertify.service.ts","webpack:///src/app/_services/auth.service.ts","webpack:///src/app/_services/error.interceptor.ts","webpack:///src/app/_services/user.service.ts","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/app.module.ts","webpack:///src/app/home/home.component.ts","webpack:///src/app/home/home.component.html","webpack:///src/app/lists/lists.component.ts","webpack:///src/app/lists/lists.component.html","webpack:///src/app/members/member-card/member-card.component.ts","webpack:///src/app/members/member-card/member-card.component.html","webpack:///src/app/members/member-detail/member-detail.component.ts","webpack:///src/app/members/member-detail/member-detail.component.html","webpack:///src/app/members/member-edit/member-edit.component.ts","webpack:///src/app/members/member-edit/member-edit.component.html","webpack:///src/app/members/member-list/member-list.component.ts","webpack:///src/app/members/member-list/member-list.component.html","webpack:///src/app/members/member-messages/member-messages.component.ts","webpack:///src/app/members/member-messages/member-messages.component.html","webpack:///src/app/members/photo-editor/photo-editor.component.ts","webpack:///src/app/members/photo-editor/photo-editor.component.html","webpack:///src/app/messages/messages.component.ts","webpack:///src/app/messages/messages.component.html","webpack:///src/app/nav/nav.component.ts","webpack:///src/app/nav/nav.component.html","webpack:///src/app/register/register.component.ts","webpack:///src/app/register/register.component.html","webpack:///src/app/routes.ts","webpack:///src/environments/environment.ts","webpack:///src/main.ts"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","module","exports","id","AuthGuard","authService","router","alertify","loggedIn","error","navigate","providedIn","PreventUnsavedChanges","component","editForm","dirty","confirm","PaginatedResult","ListsResolver","userService","pageNumber","pageSize","likesParam","route","getUsers","pipe","console","log","MemberDetailResolver","getUser","params","MemberEditResolver","decodedToken","nameid","MemberListResolver","MessagesResolver","getMessages","messageContainer","AlertifyService","message","okCallBack","AuthService","http","baseUrl","apiUrl","jwtHelper","photoUrl","currentPhotoUrl","asObservable","next","model","post","response","user","localStorage","setItem","token","JSON","stringify","decodeToken","currentUser","changeMemberPhoto","getItem","isTokenExpired","ErrorInterceptor","handle","status","statusText","applicationError","headers","get","serverError","modalStateErrors","errors","key","ErrorInterceptorProvider","provide","useClass","multi","UserService","page","itemsPerPage","userParams","paginatedResult","append","minAge","maxAge","gender","orderBy","observe","result","body","pagination","parse","put","userId","recepientId","messageId","subscribe","AppComponent","selector","templateUrl","styleUrls","tokenGetter","AppModule","forRoot","config","whitelistedDomains","blacklistedRoutes","declarations","imports","providers","bootstrap","HomeComponent","registerMode","cancelRegister","ListsComponent","data","users","event","currentPage","loadUsers","res","pageChanged","MemberCardComponent","sendLike","success","knownAs","MemberDetailComponent","queryParams","selectedtab","memberTabs","tabs","active","galleryOptions","width","height","imagePercent","thumbnailsColumns","imageAnimation","Slide","preview","galleryImages","getImages","imageUrls","photos","photo","push","small","url","medium","big","decription","description","tabId","selectTab","MemberEditComponent","$event","returnValue","updateUser","reset","updateMainPhoto","MemberListComponent","genderList","value","display","resetFilters","MemberMessagesComponent","newMessage","loadMessages","currentUserId","getMessageThread","messages","i","length","isRead","markAsRead","sendMessage","unshift","content","uploader","PhotoEditorComponent","getMemberPhotoChange","hasBaseDropZoneOver","hasAnotherDropZoneOver","initializeUploader","authToken","isHTML5","allowedFileType","removeAfterUpload","autoUpload","maxFileSize","onAfterAddingFile","file","withCredentials","onSuccessItem","item","dateAdded","isMain","setMainPhoto","currentMain","filter","p","self","deletePhoto","splice","findIndex","fileOverbase","stopPropagation","MessagesComponent","deleteMessage","m","NavComponent","login","removeItem","RegisterComponent","fb","bsConfig","containerClass","createRegisterForm","registerForm","group","username","required","dateOfBirth","city","country","password","minLength","maxLength","confirmPassword","validators","passwordMatchValidator","g","valid","Object","assign","register","emit","cancel","appRoutes","path","canActivate","canDeactivate","redirectTo","pathMatch","environment","production","bootstrapModule","err"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA,aAASA,wBAAT,CAAkCC,GAAlC,EAAuC;AACtC;AACA;AACA,aAAOC,OAAO,CAACC,OAAR,GAAkBC,IAAlB,CAAuB,YAAW;AACxC,YAAIC,CAAC,GAAG,IAAIC,KAAJ,CAAU,yBAAyBL,GAAzB,GAA+B,GAAzC,CAAR;AACAI,SAAC,CAACE,IAAF,GAAS,kBAAT;AACA,cAAMF,CAAN;AACA,OAJM,CAAP;AAKA;;AACDL,4BAAwB,CAACQ,IAAzB,GAAgC,YAAW;AAAE,aAAO,EAAP;AAAY,KAAzD;;AACAR,4BAAwB,CAACG,OAAzB,GAAmCH,wBAAnC;AACAS,UAAM,CAACC,OAAP,GAAiBV,wBAAjB;AACAA,4BAAwB,CAACW,EAAzB,GAA8B,yCAA9B;;;;;;;;;;;;;;;;ACZA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAQaC,S;AACX,yBAAoBC,WAApB,EAAsDC,MAAtD,EAA8EC,QAA9E,EAAyG;AAAA;;AAArF,aAAAF,WAAA,GAAAA,WAAA;AAAkC,aAAAC,MAAA,GAAAA,MAAA;AAAwB,aAAAC,QAAA,GAAAA,QAAA;AAA6B;;;;sCAChG;AACT,cAAI,KAAKF,WAAL,CAAiBG,QAAjB,EAAJ,EAAiC;AAC/B,mBAAO,IAAP;AACD;;AAED,eAAKD,QAAL,CAAcE,KAAd,CAAoB,uBAApB;AACA,eAAKH,MAAL,CAAYI,QAAZ,CAAqB,CAAC,OAAD,CAArB;AACA,iBAAO,KAAP;AACD;;;;;;;uBAVUN,S,EAAS,0H,EAAA,8G,EAAA,kI;AAAA,K;;;aAATA,S;AAAS,eAATA,SAAS,K;AAAA,kBAFR;;;;;sEAEDA,S,EAAS;cAHrB,wDAGqB;eAHV;AACVO,oBAAU,EAAE;AADF,S;AAGU,Q;;;;;;;;;;;;;;;;;;;;;;;;;;ACRtB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAKaC,qB;;;;;;;sCAEGC,S,EAAgC;AAC5C,cAAIA,SAAS,CAACC,QAAV,CAAmBC,KAAvB,EAA8B;AAC5B,mBAAOC,OAAO,CAAC,sEAAD,CAAd;AACD;;AACD,iBAAO,IAAP;AACD;;;;;;;uBAPUJ,qB;AAAqB,K;;;aAArBA,qB;AAAqB,eAArBA,qBAAqB;;;;;sEAArBA,qB,EAAqB;cADjC;AACiC,Q;;;;;;;;;;;;;;;;;;ACGlC;AAAA;;;AAAA;AAAA;AAAA;;QAAaK,e;;;;;;;;;;;;;;;;;;;ACRb;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAUaC,a;AAKX,6BAAoBC,WAApB,EAAsDb,MAAtD,EAA8EC,QAA9E,EAAyG;AAAA;;AAArF,aAAAY,WAAA,GAAAA,WAAA;AAAkC,aAAAb,MAAA,GAAAA,MAAA;AAAwB,aAAAC,QAAA,GAAAA,QAAA;AAJ9E,aAAAa,UAAA,GAAqB,CAArB;AACA,aAAAC,QAAA,GAAmB,CAAnB;AACA,aAAAC,UAAA,GAAa,QAAb;AAE4G;;;;gCAEpGC,K,EAA6B;AAAA;;AACnC,iBAAO,KAAKJ,WAAL,CAAiBK,QAAjB,CAA0B,KAAKJ,UAA/B,EAA2C,KAAKC,QAAhD,EAA0D,IAA1D,EAAgE,KAAKC,UAArE,EAAiFG,IAAjF,CACL,kEAAW,UAAAhB,KAAK,EAAI;AAClBiB,mBAAO,CAACC,GAAR,CAAYlB,KAAZ;;AACA,iBAAI,CAACF,QAAL,CAAcE,KAAd,CAAoB,yBAApB;;AACA,iBAAI,CAACH,MAAL,CAAYI,QAAZ,CAAqB,CAAC,OAAD,CAArB;;AACA,mBAAO,gDAAG,IAAH,CAAP;AACD,WALD,CADK,CAAP;AAQD;;;;;;;uBAhBUQ,a,EAAa,0H,EAAA,8G,EAAA,kI;AAAA,K;;;aAAbA,a;AAAa,eAAbA,aAAa;;;;;sEAAbA,a,EAAa;cADzB;AACyB,Q;;;;;;;;;;;;;;;;;;;;;;;;;;ACV1B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAUaU,oB;AAEX,oCAAoBT,WAApB,EAAsDb,MAAtD,EAA8EC,QAA9E,EAAyG;AAAA;;AAArF,aAAAY,WAAA,GAAAA,WAAA;AAAkC,aAAAb,MAAA,GAAAA,MAAA;AAAwB,aAAAC,QAAA,GAAAA,QAAA;AAA8B;;;;gCAEpGgB,K,EAA6B;AAAA;;AACnC,iBAAO,KAAKJ,WAAL,CAAiBU,OAAjB,CAAyBN,KAAK,CAACO,MAAN,CAAa,IAAb,CAAzB,EAA6CL,IAA7C,CACL,kEAAW,UAAAhB,KAAK,EAAI;AAClB,kBAAI,CAACF,QAAL,CAAcE,KAAd,CAAoB,yBAApB;;AACA,kBAAI,CAACH,MAAL,CAAYI,QAAZ,CAAqB,CAAC,UAAD,CAArB;;AACA,mBAAO,gDAAG,IAAH,CAAP;AACD,WAJD,CADK,CAAP;AAOD;;;;;;;uBAZUkB,oB,EAAoB,0H,EAAA,8G,EAAA,kI;AAAA,K;;;aAApBA,oB;AAAoB,eAApBA,oBAAoB;;;;;sEAApBA,oB,EAAoB;cADhC;AACgC,Q;;;;;;;;;;;;;;;;;;;;;;;;;;ACVjC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAWaG,kB;AACX,kCAAoBZ,WAApB,EAAsDd,WAAtD,EACUC,MADV,EACkCC,QADlC,EAC6D;AAAA;;AADzC,aAAAY,WAAA,GAAAA,WAAA;AAAkC,aAAAd,WAAA,GAAAA,WAAA;AAC5C,aAAAC,MAAA,GAAAA,MAAA;AAAwB,aAAAC,QAAA,GAAAA,QAAA;AAA8B;;;;gCAExDgB,K,EAA6B;AAAA;;AACnC,iBAAO,KAAKJ,WAAL,CAAiBU,OAAjB,CAAyB,KAAKxB,WAAL,CAAiB2B,YAAjB,CAA8BC,MAAvD,EAA+DR,IAA/D,CACL,kEAAW,UAAAhB,KAAK,EAAI;AAClB,kBAAI,CAACF,QAAL,CAAcE,KAAd,CAAoB,8BAApB;;AACA,kBAAI,CAACH,MAAL,CAAYI,QAAZ,CAAqB,CAAC,UAAD,CAArB;;AACA,mBAAO,gDAAG,IAAH,CAAP;AACD,WAJD,CADK,CAAP;AAOD;;;;;;;uBAZUqB,kB,EAAkB,0H,EAAA,0H,EAAA,8G,EAAA,kI;AAAA,K;;;aAAlBA,kB;AAAkB,eAAlBA,kBAAkB;;;;;sEAAlBA,kB,EAAkB;cAD9B;AAC8B,Q;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACX/B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAUaG,kB;AAIX,kCAAoBf,WAApB,EAAsDb,MAAtD,EAA8EC,QAA9E,EAAyG;AAAA;;AAArF,aAAAY,WAAA,GAAAA,WAAA;AAAkC,aAAAb,MAAA,GAAAA,MAAA;AAAwB,aAAAC,QAAA,GAAAA,QAAA;AAH9E,aAAAa,UAAA,GAAqB,CAArB;AACA,aAAAC,QAAA,GAAmB,CAAnB;AAE4G;;;;gCAEpGE,K,EAA6B;AAAA;;AACnC,iBAAO,KAAKJ,WAAL,CAAiBK,QAAjB,CAA0B,KAAKJ,UAA/B,EAA2C,KAAKC,QAAhD,EAA0DI,IAA1D,CACL,kEAAW,UAAAhB,KAAK,EAAI;AAClBiB,mBAAO,CAACC,GAAR,CAAYlB,KAAZ;;AACA,kBAAI,CAACF,QAAL,CAAcE,KAAd,CAAoB,yBAApB;;AACA,kBAAI,CAACH,MAAL,CAAYI,QAAZ,CAAqB,CAAC,OAAD,CAArB;;AACA,mBAAO,gDAAG,IAAH,CAAP;AACD,WALD,CADK,CAAP;AAQD;;;;;;;uBAfUwB,kB,EAAkB,0H,EAAA,8G,EAAA,kI;AAAA,K;;;aAAlBA,kB;AAAkB,eAAlBA,kBAAkB;;;;;sEAAlBA,kB,EAAkB;cAD9B;AAC8B,Q;;;;;;;;;;;;;;;;;;;;;;;;;;ACV/B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAWaC,gB;AAKX,gCAAoBhB,WAApB,EAAsDd,WAAtD,EACUC,MADV,EACkCC,QADlC,EAC6D;AAAA;;AADzC,aAAAY,WAAA,GAAAA,WAAA;AAAkC,aAAAd,WAAA,GAAAA,WAAA;AAC5C,aAAAC,MAAA,GAAAA,MAAA;AAAwB,aAAAC,QAAA,GAAAA,QAAA;AALlC,aAAAa,UAAA,GAAqB,CAArB;AACA,aAAAC,QAAA,GAAmB,CAAnB;AAIgE;;;;gCAExDE,K,EAA6B;AAAA;;AACnC,iBAAO,KAAKJ,WAAL,CAAiBiB,WAAjB,CAA6B,KAAK/B,WAAL,CAAiB2B,YAAjB,CAA8BC,MAA3D,EACL,KAAKb,UADA,EACY,KAAKC,QADjB,EAC2B,KAAKgB,gBADhC,EACkDZ,IADlD,CAEL,kEAAW,UAAAhB,KAAK,EAAI;AAClBiB,mBAAO,CAACC,GAAR,CAAYlB,KAAZ;;AACA,kBAAI,CAACF,QAAL,CAAcE,KAAd,CAAoB,6BAApB;;AACA,kBAAI,CAACH,MAAL,CAAYI,QAAZ,CAAqB,CAAC,OAAD,CAArB;;AACA,mBAAO,gDAAG,IAAH,CAAP;AACD,WALD,CAFK,CAAP;AASD;;;;;;;uBAlBUyB,gB,EAAgB,0H,EAAA,0H,EAAA,8G,EAAA,kI;AAAA,K;;;aAAhBA,gB;AAAgB,eAAhBA,gBAAgB;;;;;sEAAhBA,gB,EAAgB;cAD5B;AAC4B,Q;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACX7B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;;QAMaG,e;AAEX,iCAAc;AAAA;AAAG;;;;gCAETC,O,EAAiBC,U,EAAwB;AAC/C,6DAAiBD,OAAjB,EAA0B,UAAC1C,CAAD,EAAY;AACpC,gBAAIA,CAAJ,EAAO;AACL2C,wBAAU,CAAC3C,CAAD,CAAV;AACD,aAFD,MAEO,CAAE;AACV,WAJD;AAKD;;;gCAEO0C,O,EAAiB;AACvB,6DAAiBA,OAAjB;AACD;;;8BAEKA,O,EAAiB;AACrB,2DAAeA,OAAf;AACD;;;gCAEOA,O,EAAiB;AACvB,6DAAiBA,OAAjB;AACD;;;gCAEOA,Q,EAAiB;AACvB,6DAAiBA,QAAjB;AACD;;;;;;;uBA1BUD,e;AAAe,K;;;aAAfA,e;AAAe,eAAfA,eAAe,K;AAAA,kBAFd;;;;;sEAEDA,e,EAAe;cAH3B,wDAG2B;eAHhB;AACV3B,oBAAU,EAAE;AADF,S;AAGgB,Q;;;;;;;;;;;;;;;;;;;;ACN5B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAaa8B,W;AAQX,2BAAoBC,IAApB,EAA8CnC,QAA9C,EAAyE;AAAA;;AAArD,aAAAmC,IAAA,GAAAA,IAAA;AAA0B,aAAAnC,QAAA,GAAAA,QAAA;AAP9C,aAAAoC,OAAA,GAAU,sEAAYC,MAAZ,GAAqB,OAA/B;AACA,aAAAC,SAAA,GAAY,IAAI,mEAAJ,EAAZ;AAGA,aAAAC,QAAA,GAAW,IAAI,oDAAJ,CAA4B,uBAA5B,CAAX;AACA,aAAAC,eAAA,GAAkB,KAAKD,QAAL,CAAcE,YAAd,EAAlB;AAE4E;;;;0CAE1DF,Q,EAAkB;AAClC,eAAKA,QAAL,CAAcG,IAAd,CAAmBH,QAAnB;AACD;;;8BAEKI,K,EAAY;AAAA;;AAChB,iBAAO,KAAKR,IAAL,CAAUS,IAAV,CAAe,KAAKR,OAAL,GAAe,OAA9B,EAAuCO,KAAvC,EAA8CzB,IAA9C,CACL,2DAAI,UAAC2B,QAAD,EAAmB;AACrB,gBAAMC,IAAI,GAAGD,QAAb;;AACA,gBAAIC,IAAJ,EAAU;AACRC,0BAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BF,IAAI,CAACG,KAAnC;AACAF,0BAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BE,IAAI,CAACC,SAAL,CAAeL,IAAI,CAACA,IAApB,CAA7B;AACA,oBAAI,CAACrB,YAAL,GAAoB,MAAI,CAACa,SAAL,CAAec,WAAf,CAA2BN,IAAI,CAACG,KAAhC,CAApB;AACA,oBAAI,CAACI,WAAL,GAAmBP,IAAI,CAACA,IAAxB;;AACA,oBAAI,CAACQ,iBAAL,CAAuB,MAAI,CAACD,WAAL,CAAiBd,QAAxC;AACD;AACF,WATD,CADK,CAAP;AAYD;;;iCAEQO,I,EAAY;AACnB,iBAAO,KAAKX,IAAL,CAAUS,IAAV,CAAe,KAAKR,OAAL,GAAe,UAA9B,EAA0CU,IAA1C,CAAP;AACD;;;mCAEU;AACT,cAAMG,KAAK,GAAGF,YAAY,CAACQ,OAAb,CAAqB,OAArB,CAAd;AACA,iBAAO,CAAC,KAAKjB,SAAL,CAAekB,cAAf,CAA8BP,KAA9B,CAAR;AACD;;;;;;;uBApCUf,W,EAAW,uH,EAAA,yH;AAAA,K;;;aAAXA,W;AAAW,eAAXA,WAAW,K;AAAA,kBAFV;;;;;sEAEDA,W,EAAW;cAHvB,wDAGuB;eAHZ;AACV9B,oBAAU,EAAE;AADF,S;AAGY,Q;;;;;;;;;;;;;;;;;;;;;;;;ACbxB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAaaqD,gB;;;;;;;kCAETvE,G,EACAwD,I,EAAiB;AAEjB,iBAAOA,IAAI,CAACgB,MAAL,CAAYxE,GAAZ,EAAiBgC,IAAjB,CACL,kEAAW,UAAAhB,KAAK,EAAI;AAClB,gBAAIA,KAAK,YAAY,sEAArB,EAAwC;AACtC,kBAAIA,KAAK,CAACyD,MAAN,KAAiB,GAArB,EAA0B;AACxB,uBAAO,wDAAWzD,KAAK,CAAC0D,UAAjB,CAAP;AACD;;AACD,kBAAMC,gBAAgB,GAAG3D,KAAK,CAAC4D,OAAN,CAAcC,GAAd,CAAkB,mBAAlB,CAAzB;;AACA,kBAAIF,gBAAJ,EAAsB;AACpB,uBAAO,wDAAWA,gBAAX,CAAP;AACD;;AACD,kBAAMG,WAAW,GAAG9D,KAAK,CAACA,KAA1B;AACA,kBAAI+D,gBAAgB,GAAG,EAAvB;;AACA,kBAAID,WAAW,CAACE,MAAZ,IAAsB,OAAOF,WAAW,CAACE,MAAnB,KAA8B,QAAxD,EAAkE;AAChE,qBAAK,IAAMC,GAAX,IAAkBH,WAAW,CAACE,MAA9B,EAAsC;AACpC,sBAAIF,WAAW,CAACE,MAAZ,CAAmBC,GAAnB,CAAJ,EAA6B;AAC3BF,oCAAgB,IAAID,WAAW,CAACE,MAAZ,CAAmBC,GAAnB,IAA0B,IAA9C;AACD;AACF;AACF;;AACD,qBAAO,wDAAWF,gBAAgB,IAAID,WAApB,IAAmC,cAA9C,CAAP;AACD;AACF,WApBD,CADK,CAAP;AAuBD;;;;;;;uBA5BUP,gB;AAAgB,K;;;aAAhBA,gB;AAAgB,eAAhBA,gBAAgB;;;;;sEAAhBA,gB,EAAgB;cAD5B;AAC4B,Q;;;AA+BtB,QAAMW,wBAAwB,GAAG;AACtCC,aAAO,EAAE,sEAD6B;AAEtCC,cAAQ,EAAEb,gBAF4B;AAGtCc,WAAK,EAAE;AAH+B,KAAjC;;;;;;;;;;;;;;;;AC5CP;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAYaC,W;AAEX,2BAAoBrC,IAApB,EAAsC;AAAA;;AAAlB,aAAAA,IAAA,GAAAA,IAAA;AADpB,aAAAC,OAAA,GAAU,sEAAYC,MAAtB;AACyC;;;;iCAEhCoC,I,EAAOC,Y,EAAeC,U,EAAa5D,U,EAAW;AACrD,cAAM6D,eAAe,GAA4B,IAAI,kEAAJ,EAAjD;AAEA,cAAIrD,MAAM,GAAG,IAAI,+DAAJ,EAAb;;AAEA,cAAIkD,IAAI,IAAI,IAAR,IAAgBC,YAAY,IAAI,IAApC,EAA0C;AACxCnD,kBAAM,GAAGA,MAAM,CAACsD,MAAP,CAAc,YAAd,EAA4BJ,IAA5B,CAAT;AACAlD,kBAAM,GAAGA,MAAM,CAACsD,MAAP,CAAc,UAAd,EAA0BH,YAA1B,CAAT;AACD;;AAED,cAAIC,UAAU,IAAI,IAAlB,EAAwB;AACtBpD,kBAAM,GAAGA,MAAM,CAACsD,MAAP,CAAc,QAAd,EAAwBF,UAAU,CAACG,MAAnC,CAAT;AACAvD,kBAAM,GAAGA,MAAM,CAACsD,MAAP,CAAc,QAAd,EAAwBF,UAAU,CAACI,MAAnC,CAAT;AACAxD,kBAAM,GAAGA,MAAM,CAACsD,MAAP,CAAc,QAAd,EAAwBF,UAAU,CAACK,MAAnC,CAAT;AACAzD,kBAAM,GAAGA,MAAM,CAACsD,MAAP,CAAc,SAAd,EAAyBF,UAAU,CAACM,OAApC,CAAT;AACD;;AACD,cAAIlE,UAAU,KAAK,QAAnB,EAA6B;AAC3BQ,kBAAM,GAAGA,MAAM,CAACsD,MAAP,CAAc,QAAd,EAAwB,MAAxB,CAAT;AACD;;AACD,cAAI9D,UAAU,KAAK,QAAnB,EAA6B;AAC3BQ,kBAAM,GAAGA,MAAM,CAACsD,MAAP,CAAc,QAAd,EAAwB,MAAxB,CAAT;AACD;;AAED,iBAAO,KAAK1C,IAAL,CAAU4B,GAAV,CAAsB,KAAK3B,OAAL,GAAe,OAArC,EAA8C;AAAE8C,mBAAO,EAAE,UAAX;AAAuB3D,kBAAM,EAANA;AAAvB,WAA9C,EACJL,IADI,CAEH,2DAAI,UAAA2B,QAAQ,EAAI;AACd+B,2BAAe,CAACO,MAAhB,GAAyBtC,QAAQ,CAACuC,IAAlC;;AACA,gBAAIvC,QAAQ,CAACiB,OAAT,CAAiBC,GAAjB,CAAqB,YAArB,KAAsC,IAA1C,EAAgD;AAC9Ca,6BAAe,CAACS,UAAhB,GAA6BnC,IAAI,CAACoC,KAAL,CAAWzC,QAAQ,CAACiB,OAAT,CAAiBC,GAAjB,CAAqB,YAArB,CAAX,CAA7B;AACD;;AACD,mBAAOa,eAAP;AACD,WAND,CAFG,CAAP;AASD;;;gCAEOhF,E,EAAE;AACR,iBAAO,KAAKuC,IAAL,CAAU4B,GAAV,CAAoB,KAAK3B,OAAL,GAAe,QAAf,GAA0BxC,EAA9C,CAAP;AACD;;;mCAEUA,E,EAAYkD,I,EAAY;AACjC,iBAAO,KAAKX,IAAL,CAAUoD,GAAV,CAAc,KAAKnD,OAAL,GAAe,QAAf,GAA0BxC,EAAxC,EAA4CkD,IAA5C,CAAP;AACD;;;qCAEY0C,M,EAAgB5F,E,EAAY;AACvC,iBAAO,KAAKuC,IAAL,CAAUS,IAAV,CAAe,KAAKR,OAAL,GAAe,QAAf,GAA0BoD,MAA1B,GAAmC,UAAnC,GAAgD5F,EAAhD,GAAqD,UAApE,EAAgF,EAAhF,CAAP;AACD;;;oCAEW4F,M,EAAgB5F,E,EAAY;AACtC,iBAAO,KAAKuC,IAAL,WAAiB,KAAKC,OAAL,GAAe,QAAf,GAA0BoD,MAA1B,GAAmC,UAAnC,GAAgD5F,EAAjE,CAAP;AACD;;;iCAEQA,E,EAAY6F,W,EAAqB;AACxC,iBAAO,KAAKtD,IAAL,CAAUS,IAAV,CAAe,KAAKR,OAAL,GAAe,QAAf,GAA0BxC,EAA1B,GAA+B,QAA/B,GAA0C6F,WAAzD,EAAsE,EAAtE,CAAP;AACD;;;oCAEW7F,E,EAAY6E,I,EAAOC,Y,EAAe5C,gB,EAAmB;AAC/D,cAAM8C,eAAe,GAA+B,IAAI,kEAAJ,EAApD;AAEA,cAAIrD,MAAM,GAAG,IAAI,+DAAJ,EAAb;AACAA,gBAAM,GAAGA,MAAM,CAACsD,MAAP,CAAc,kBAAd,EAAkC/C,gBAAlC,CAAT;;AAEA,cAAI2C,IAAI,IAAI,IAAR,IAAgBC,YAAY,IAAI,IAApC,EAA0C;AACxCnD,kBAAM,GAAGA,MAAM,CAACsD,MAAP,CAAc,YAAd,EAA4BJ,IAA5B,CAAT;AACAlD,kBAAM,GAAGA,MAAM,CAACsD,MAAP,CAAc,UAAd,EAA0BH,YAA1B,CAAT;AAEA,mBAAO,KAAKvC,IAAL,CAAU4B,GAAV,CAAyB,KAAK3B,OAAL,GAAe,QAAf,GAA0BxC,EAA1B,GAA+B,WAAxD,EAAqE;AAAEsF,qBAAO,EAAE,UAAX;AAAuB3D,oBAAM,EAANA;AAAvB,aAArE,EACJL,IADI,CAEH,2DAAI,UAAA2B,QAAQ,EAAI;AACd+B,6BAAe,CAACO,MAAhB,GAAyBtC,QAAQ,CAACuC,IAAlC;;AACA,kBAAIvC,QAAQ,CAACiB,OAAT,CAAiBC,GAAjB,CAAqB,YAArB,MAAuC,IAA3C,EAAiD;AAC/Ca,+BAAe,CAACS,UAAhB,GAA6BnC,IAAI,CAACoC,KAAL,CAAWzC,QAAQ,CAACiB,OAAT,CAAiBC,GAAjB,CAAqB,YAArB,CAAX,CAA7B;AACD;;AACD,qBAAOa,eAAP;AACD,aAND,CAFG,CAAP;AAUD;AACF;;;yCAEgBhF,E,EAAY6F,W,EAAqB;AAChD,iBAAO,KAAKtD,IAAL,CAAU4B,GAAV,CAAyB,KAAK3B,OAAL,GAAe,QAAf,GAA0BxC,EAA1B,GAA+B,mBAA/B,GAAqD6F,WAA9E,CAAP;AACD;;;oCAEW7F,E,EAAYoC,O,EAAkB;AACxC,iBAAO,KAAKG,IAAL,CAAUS,IAAV,CAAe,KAAKR,OAAL,GAAe,QAAf,GAA0BxC,EAA1B,GAA+B,WAA9C,EAA2DoC,OAA3D,CAAP;AACD;;;sCAEapC,E,EAAY4F,M,EAAgB;AACxC,iBAAO,KAAKrD,IAAL,CAAUS,IAAV,CAAe,KAAKR,OAAL,GAAe,QAAf,GAA0BoD,MAA1B,GAAmC,YAAnC,GAAkD5F,EAAjE,EAAqE,EAArE,CAAP;AACD;;;mCAEU4F,M,EAAgBE,S,EAAmB;AAC5C,eAAKvD,IAAL,CAAUS,IAAV,CAAe,KAAKR,OAAL,GAAe,QAAf,GAA0BoD,MAA1B,GAAmC,YAAnC,GAAkDE,SAAlD,GAA8D,OAA7E,EAAsF,EAAtF,EAA0FC,SAA1F;AACD;;;;;;;uBA/FUnB,W,EAAW,uH;AAAA,K;;;aAAXA,W;AAAW,eAAXA,WAAW,K;AAAA,kBAFV;;;;;sEAEDA,W,EAAW;cAHvB,wDAGuB;eAHZ;AACVpE,oBAAU,EAAE;AADF,S;AAGY,Q;;;;;;;;;;;;;;;;;;;;;;ACZxB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAUawF,Y;AAGX,4BAAoB9F,WAApB,EAA8C;AAAA;;AAA1B,aAAAA,WAAA,GAAAA,WAAA;AAFpB,aAAAwC,SAAA,GAAY,IAAI,mEAAJ,EAAZ;AAEiD;;;;mCAEtC;AACT,cAAMW,KAAK,GAAGF,YAAY,CAACQ,OAAb,CAAqB,OAArB,CAAd;AACA,cAAMT,IAAI,GAASI,IAAI,CAACoC,KAAL,CAAWvC,YAAY,CAACQ,OAAb,CAAqB,MAArB,CAAX,CAAnB;;AACA,cAAIN,KAAJ,EAAW;AACT,iBAAKnD,WAAL,CAAiB2B,YAAjB,GAAgC,KAAKa,SAAL,CAAec,WAAf,CAA2BH,KAA3B,CAAhC;AACD;;AACD,cAAIH,IAAJ,EAAU;AACR,iBAAKhD,WAAL,CAAiBuD,WAAjB,GAA+BP,IAA/B;AACA,iBAAKhD,WAAL,CAAiBwD,iBAAjB,CAAmCR,IAAI,CAACP,QAAxC;AACD;AACF;;;;;;;uBAfUqD,Y,EAAY,mI;AAAA,K;;;YAAZA,Y;AAAY,+B;AAAA,c;AAAA,a;AAAA;AAAA;ACTvB;;AACA;;;;;;;;;sEDQWA,Y,EAAY;cALxB,uDAKwB;eALd;AACTC,kBAAQ,EAAE,UADD;AAETC,qBAAW,EAAE,sBAFJ;AAGTC,mBAAS,EAAE,CAAC,qBAAD;AAHF,S;AAKc,Q;;;;;;;;;;;;;;;;;;;;;;AEVzB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAwCO,aAASC,WAAT,GAAuB;AAC5B,aAAOjD,YAAY,CAACQ,OAAb,CAAqB,OAArB,CAAP;AACD;;QAoDY0C,S;;;;;YAAAA,S;AAAS,kBAFR,4DAEQ;;;;yBAATA,S;AAAS,O;AAAA,iBAZT,CACT,mEADS,EAET,qFAFS,EAGT,uFAHS,EAIT,mFAJS,EAKT,mFALS,EAMT,wEANS,EAOT,8EAPS,EAQT,4FARS,C;AASV,gBAhCQ,CACP,uEADO,EAEP,qEAFO,EAGP,0DAHO,EAIP,kEAJO,EAKP,4FALO,EAMP,wEAAiBC,OAAjB,EANO,EAOP,8DAAWA,OAAX,EAPO,EAQP,6DAAaA,OAAb,CAAqB,kDAArB,CARO,EASP,4EAAmBA,OAAnB,EATO,EAUP,2DAAcA,OAAd,EAVO,EAWP,2EAAiBA,OAAjB,EAXO,EAYP,qEAAcA,OAAd,EAZO,EAaP,+DAbO,EAcP,iEAdO,EAeP,6DAAUA,OAAV,CAAkB;AAChBC,cAAM,EAAE;AACNH,qBAAW,EAAEA,WADP;AAENI,4BAAkB,EAAE,CAAC,gBAAD,CAFd;AAGNC,2BAAiB,EAAE,CAAC,yBAAD;AAHb;AADQ,OAAlB,CAfO,CAgCR;;;;0HAGUJ,S,EAAS;AAAA,uBAhDlB,4DAgDkB,EA/ClB,gEA+CkB,EA9ClB,+EA8CkB,EA7ClB,mEA6CkB,EA5ClB,+FA4CkB,EA3ClB,sEA2CkB,EA1ClB,+EA0CkB,EAzClB,+FAyCkB,EAxClB,qGAwCkB,EAvClB,+FAuCkB,EAtClB,kGAsCkB,EArClB,2GAqCkB;AArCK,kBAGvB,uEAHuB,EAIvB,qEAJuB,EAKvB,0DALuB,EAMvB,kEANuB,EAOvB,4FAPuB,EAOA,uEAPA,EAOA,6DAPA,EAOA,4DAPA,EAOA,2EAPA,EAOA,0DAPA,EAOA,0EAPA,EAOA,oEAPA,EAevB,+DAfuB,EAgBvB,iEAhBuB,EAgBP,4DAhBO;AAqCL,O;AArBF,K;;;;;sEAqBPA,S,EAAS;cAlDrB,sDAkDqB;eAlDZ;AACRK,sBAAY,EAAE,CACZ,4DADY,EAEZ,gEAFY,EAGZ,+EAHY,EAIZ,mEAJY,EAKZ,+FALY,EAMZ,sEANY,EAOZ,+EAPY,EAQZ,+FARY,EASZ,qGATY,EAUZ,+FAVY,EAWZ,kGAXY,EAYZ,2GAZY,CADN;AAeRC,iBAAO,EAAE,CACP,uEADO,EAEP,qEAFO,EAGP,0DAHO,EAIP,kEAJO,EAKP,4FALO,EAMP,wEAAiBL,OAAjB,EANO,EAOP,8DAAWA,OAAX,EAPO,EAQP,6DAAaA,OAAb,CAAqB,kDAArB,CARO,EASP,4EAAmBA,OAAnB,EATO,EAUP,2DAAcA,OAAd,EAVO,EAWP,2EAAiBA,OAAjB,EAXO,EAYP,qEAAcA,OAAd,EAZO,EAaP,+DAbO,EAcP,iEAdO,EAeP,6DAAUA,OAAV,CAAkB;AAChBC,kBAAM,EAAE;AACNH,yBAAW,EAAEA,WADP;AAENI,gCAAkB,EAAE,CAAC,gBAAD,CAFd;AAGNC,+BAAiB,EAAE,CAAC,yBAAD;AAHb;AADQ,WAAlB,CAfO,CAfD;AAsCRG,mBAAS,EAAE,CACT,mEADS,EAET,qFAFS,EAGT,uFAHS,EAIT,mFAJS,EAKT,mFALS,EAMT,wEANS,EAOT,8EAPS,EAQT,4FARS,CAtCH;AAgDRC,mBAAS,EAAE,CAAC,4DAAD;AAhDH,S;AAkDY,Q;;;;;;;;;;;;;;;;;;AC9FtB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;ACGE;;AACE;;AAAI;;AAAe;;AACnB;;AAAgB;;AAAiE;;AACjF;;AACE;;AAA4C;AAAA;;AAAA;;AAAA;AAAA;;AAA2B;;AAAQ;;AAC/E;;AAAoC;;AAAU;;AAChD;;AACF;;;;;;;;AAEA;;AACE;;AACE;;AACE;;AAAc;AAAA;;AAAA;;AAAA;AAAA;;AAA8C;;AAC9D;;AACF;;AACF;;;;QDVWC,a;AAEX,6BAAoBvE,IAApB,EAAsC;AAAA;;AAAlB,aAAAA,IAAA,GAAAA,IAAA;AADpB,aAAAwE,YAAA,GAAoB,KAApB;AACyC;;;;mCAEjC,CACP;;;yCAEgB;AACf,eAAKA,YAAL,GAAoB,IAApB;AACD;;;2CAEkBC,c,EAAyB;AAC1C,eAAKD,YAAL,GAAoBC,cAApB;AACD;;;;;;;uBAbUF,a,EAAa,gI;AAAA,K;;;YAAbA,a;AAAa,+B;AAAA,c;AAAA,a;AAAA,6W;AAAA;AAAA;ACN1B;;AACE;;AASA;;AAOF;;;;AAhBO;;AAAA;;AASA;;AAAA;;;;;;;;;sEDJMA,a,EAAa;cALzB,uDAKyB;eALf;AACTb,kBAAQ,EAAE,UADD;AAETC,qBAAW,EAAE,uBAFJ;AAGTC,mBAAS,EAAE,CAAC,sBAAD;AAHF,S;AAKe,Q;;;;;;;;;;;;;;;;;;;;;;AER1B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACiBI;;AACE;;AACF;;;;;;AADmB;;AAAA;;;;QDLVc,c;AAKX,8BAAoB/G,WAApB,EAAsDc,WAAtD,EAAwFI,KAAxF,EAAuHhB,QAAvH,EAAkJ;AAAA;;AAA9H,aAAAF,WAAA,GAAAA,WAAA;AAAkC,aAAAc,WAAA,GAAAA,WAAA;AAAkC,aAAAI,KAAA,GAAAA,KAAA;AAA+B,aAAAhB,QAAA,GAAAA,QAAA;AAA8B;;;;mCAE7I;AAAA;;AACN,eAAKgB,KAAL,CAAW8F,IAAX,CAAgBnB,SAAhB,CAA0B,UAAAmB,IAAI,EAAI;AAChC,kBAAI,CAACC,KAAL,GAAaD,IAAI,CAAC,OAAD,CAAJ,CAAc3B,MAA3B;AACA,kBAAI,CAACE,UAAL,GAAkByB,IAAI,CAAC,OAAD,CAAJ,CAAczB,UAAhC;AACD,WAHD;AAIA,eAAKtE,UAAL,GAAkB,QAAlB;AACD;;;oCAEWiG,K,EAAU;AACpB,eAAK3B,UAAL,CAAgB4B,WAAhB,GAA8BD,KAAK,CAACvC,IAApC;AACA,eAAKyC,SAAL;AACD;;;oCAEW;AAAA;;AACV,eAAKtG,WAAL,CAAiBK,QAAjB,CAA0B,KAAKoE,UAAL,CAAgB4B,WAA1C,EAAuD,KAAK5B,UAAL,CAAgBX,YAAvE,EAAqF,IAArF,EAA2F,KAAK3D,UAAhG,EACG4E,SADH,CACa,UAACwB,GAAD,EAAkC;AAC3C,kBAAI,CAACJ,KAAL,GAAaI,GAAG,CAAChC,MAAjB;AACA,kBAAI,CAACE,UAAL,GAAkB8B,GAAG,CAAC9B,UAAtB;AACD,WAJH,EAIK,UAAAnF,KAAK,EAAI;AACV,kBAAI,CAACF,QAAL,CAAcE,KAAd,CAAoBA,KAApB;AACD,WANH;AAOD;;;;;;;uBA5BU2G,c,EAAc,mI,EAAA,mI,EAAA,+H,EAAA,2I;AAAA,K;;;YAAdA,c;AAAc,gC;AAAA,e;AAAA,a;AAAA,goB;AAAA;AAAA;ACZ3B;;AACE;;AAAI;;AAA2G;;AACjH;;AAEA;;AAEE;;AACE;;AACE;;AAAgC;AAAA;AAAA,aAAwB,OAAxB,EAAwB;AAAA,mBAA4B,IAAAK,SAAA,EAA5B;AAAuC,WAA/D;;AAAiE;;AAAmB;;AACpH;;AAAgC;AAAA;AAAA,aAAwB,OAAxB,EAAwB;AAAA,mBAA4B,IAAAA,SAAA,EAA5B;AAAuC,WAA/D;;AAAiE;;AAAkB;;AACrH;;AACF;;AAEA;;AAEA;;AACE;;AAGF;;AACF;;AAEA;;AACE;;AAAiH;AAAA;AAAA,aAAoC,aAApC,EAAoC;AAAA,mBAC1H,IAAAE,WAAA,QAD0H;AACvG,WADmE;;AAGjH;;AACF;;;;AA1BM;;AAAA;;AAOgC;;AAAA;;AACA;;AAAA;;AAO7B;;AAAA;;AAOK;;AAAA,0FAAsB,YAAtB,EAAsB,yBAAtB,EAAsB,cAAtB,EAAsB,2BAAtB,EAAsB,SAAtB,EAAsB,0BAAtB;;;;;;;;;sEDXDP,c,EAAc;cAL1B,uDAK0B;eALhB;AACThB,kBAAQ,EAAE,WADD;AAETC,qBAAW,EAAE,wBAFJ;AAGTC,mBAAS,EAAE,CAAC,uBAAD;AAHF,S;AAKgB,Q;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEb3B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;;;;;;;QAWasB,mB;AAGX,mCAAoBvH,WAApB,EAAsDc,WAAtD,EAAwFZ,QAAxF,EAAmH;AAAA;;AAA/F,aAAAF,WAAA,GAAAA,WAAA;AAAkC,aAAAc,WAAA,GAAAA,WAAA;AAAkC,aAAAZ,QAAA,GAAAA,QAAA;AAA8B;;;;mCAE9G,CACP;;;iCAEQJ,E,EAAY;AAAA;;AACnB,eAAKgB,WAAL,CAAiB0G,QAAjB,CAA0B,KAAKxH,WAAL,CAAiB2B,YAAjB,CAA8BC,MAAxD,EAAgE9B,EAAhE,EAAoE+F,SAApE,CAA8E,UAAAmB,IAAI,EAAI;AACpF,kBAAI,CAAC9G,QAAL,CAAcuH,OAAd,CAAsB,qBAAqB,MAAI,CAACzE,IAAL,CAAU0E,OAArD;AACD,WAFD,EAEG,UAAAtH,KAAK,EAAI;AACV,kBAAI,CAACF,QAAL,CAAcE,KAAd,CAAoBA,KAApB;AACD,WAJD;AAKD;;;;;;;uBAdUmH,mB,EAAmB,mI,EAAA,mI,EAAA,2I;AAAA,K;;;YAAnBA,mB;AAAmB,sC;AAAA;AAAA;AAAA,O;AAAA,e;AAAA,c;AAAA,ggB;AAAA;AAAA;ACVhC;;AACE;;AACE;;AACA;;AACE;;AAA6B;;AAAsE;;AAA0B;;AAAS;;AACtI;;AAA6B;;AAAgC;AAAA,mBAAS,IAAAC,QAAA,aAAT;AAA0B,WAA1B;;AAA4B;;AAA2B;;AAAS;;AAC7H;;AAA6B;;AAA+F;;AAA8B;;AAAS;;AACrK;;AACF;;AACA;;AACE;;AAAwC;;AAA0B;;AAA8B;;AAChG;;AAA4C;;AAAa;;AAC3D;;AACF;;;;AAX8B;;AAAA;;AAAsD;;AAEjB;;AAAA;;AAEA;;AAAA,sKAAqC,aAArC,EAAqC,sEAArC;;AAIG;;AAAA;;AACtB;;AAAA;;;;;;;;;sEDDnCD,mB,EAAmB;cAL/B,uDAK+B;eALrB;AACTxB,kBAAQ,EAAE,iBADD;AAETC,qBAAW,EAAE,8BAFJ;AAGTC,mBAAS,EAAE,CAAC,6BAAD;AAHF,S;AAKqB,Q;;;;;;;;;;gBAC7B;;;;;;;;;;;;;;;;;;;;AEZH;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;QAca0B,qB;AAMX,qCAAoB7G,WAApB,EAAsDZ,QAAtD,EAAyFgB,KAAzF,EAAgH;AAAA;;AAA5F,aAAAJ,WAAA,GAAAA,WAAA;AAAkC,aAAAZ,QAAA,GAAAA,QAAA;AAAmC,aAAAgB,KAAA,GAAAA,KAAA;AAA0B;;;;mCAE3G;AAAA;;AACN,eAAKA,KAAL,CAAW8F,IAAX,CAAgBnB,SAAhB,CAA0B,UAAAmB,IAAI,EAAI;AAChC,mBAAI,CAAChE,IAAL,GAAYgE,IAAI,CAAC,MAAD,CAAhB;AACD,WAFD;AAIA,eAAK9F,KAAL,CAAW0G,WAAX,CAAuB/B,SAAvB,CAAiC,UAAApE,MAAM,EAAI;AACzC,gBAAMoG,WAAW,GAAGpG,MAAM,CAAC,KAAD,CAA1B;AACA,mBAAI,CAACqG,UAAL,CAAgBC,IAAhB,CAAqBF,WAAW,GAAG,CAAd,GAAkBA,WAAlB,GAAgC,CAArD,EAAwDG,MAAxD,GAAiE,IAAjE;AACD,WAHD;AAKA,eAAKC,cAAL,GAAsB,CACpB;AACEC,iBAAK,EAAE,OADT;AAEEC,kBAAM,EAAE,OAFV;AAGEC,wBAAY,EAAE,GAHhB;AAIEC,6BAAiB,EAAE,CAJrB;AAKEC,0BAAc,EAAE,kEAAoBC,KALtC;AAMEC,mBAAO,EAAE;AANX,WADoB,CAAtB;AAUA,eAAKC,aAAL,GAAqB,KAAKC,SAAL,EAArB;AACD;;;oCAEW;AACV,cAAMC,SAAS,GAAG,EAAlB;;AADU,qDAEU,KAAK3F,IAAL,CAAU4F,MAFpB;AAAA;;AAAA;AAEV,gEAAsC;AAAA,kBAA3BC,KAA2B;AACpCF,uBAAS,CAACG,IAAV,CAAe;AACbC,qBAAK,EAAEF,KAAK,CAACG,GADA;AAEbC,sBAAM,EAAEJ,KAAK,CAACG,GAFD;AAGbE,mBAAG,EAAEL,KAAK,CAACG,GAHE;AAIbG,0BAAU,EAAEN,KAAK,CAACO;AAJL,eAAf;AAMD;AATS;AAAA;AAAA;AAAA;AAAA;;AAUV,iBAAOT,SAAP;AACD;;;kCAESU,K,EAAe;AACvB,eAAKvB,UAAL,CAAgBC,IAAhB,CAAqBsB,KAArB,EAA4BrB,MAA5B,GAAqC,IAArC;AACD;;;;;;;uBA9CUL,qB,EAAqB,mI,EAAA,2I,EAAA,+H;AAAA,K;;;YAArBA,qB;AAAqB,wC;AAAA;AAAA;;;;;;;;;;;;;;;ACdlC;;AACE;;AACE;;AACE;;AAAI;;AAA0B;;AAChC;;AACF;;AACA;;AACE;;AACE;;AACE;;AACA;;AACE;;AAAQ;;AAAS;;AACjB;;AAAG;;AAA+B;;AAClC;;AACE;;AAAQ;;AAAI;;AACZ;;AAAG;;AAAY;;AACjB;;AACA;;AACE;;AAAQ;;AAAY;;AACpB;;AAAG;;;;AAA8B;;AACnC;;AACA;;AACE;;AAAQ;;AAAa;;AACrB;;AAAG;;;;AAAqC;;AAC1C;;AACF;;AACA;;AACE;;AACE;;AAAsC;;AAAI;;AAC1C;;AAAsC;AAAA,mBAAS,IAAA2B,SAAA,CAAU,CAAV,CAAT;AAAqB,WAArB;;AAAuB;;AAAO;;AACtE;;AACF;;AACF;;AACF;;AACA;;AACE;;AACE;;AACE;;AACE;;AAAI;;AAAW;;AACf;;AAAG;;AAAqB;;AACxB;;AAAI;;AAAW;;AACf;;AAAG;;AAAmB;;AACxB;;AACA;;AACE;;AAAI;;AAAS;;AACb;;AAAG;;AAAkB;;AACvB;;AACA;;AACE;;AACF;;AACA;;AACE;;AACF;;AACF;;AACF;;AACF;;AACF;;AACF;;;;AAtDU;;AAAA;;AAMsC;;AAAA;;AAAwB;;AAG3D;;AAAA;;AAGE;;AAAA;;AAIA;;AAAA;;AAIA;;AAAA;;AAcA;;AAAA;;AAEA;;AAAA;;AAEA;;AAAA;;AAIA;;AAAA;;AAGU;;AAAA,kGAA0B,QAA1B,EAA0B,iBAA1B;;AAGQ;;AAAA;;;;;;;;;;sEDrCpB3B,qB,EAAqB;cALjC,uDAKiC;eALvB;AACT5B,kBAAQ,EAAE,mBADD;AAETC,qBAAW,EAAE,gCAFJ;AAGTC,mBAAS,EAAE,CAAC,+BAAD;AAHF,S;AAKuB,Q;;;;;;;;;;gBAC/B,uD;iBAAU,Y,EAAc;AAAE,sBAAQ;AAAV,W;;;;;;;;;;;;;;;;;;;;AEf3B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;ACOM;;AACE;;AAAQ;;AAAY;;AAAS;;AAC/B;;;;QDKOsD,mB;AAWX,mCAAoBrI,KAApB,EAAmDhB,QAAnD,EAAsFY,WAAtF,EAAwHd,WAAxH,EAAkJ;AAAA;;AAA9H,aAAAkB,KAAA,GAAAA,KAAA;AAA+B,aAAAhB,QAAA,GAAAA,QAAA;AAAmC,aAAAY,WAAA,GAAAA,WAAA;AAAkC,aAAAd,WAAA,GAAAA,WAAA;AAA6B;;;;2CANlIwJ,M,EAAa;AAC9B,cAAI,KAAK/I,QAAL,CAAcC,KAAlB,EAAyB;AACvB8I,kBAAM,CAACC,WAAP,GAAqB,IAArB;AACD;AACF;;;mCAIO;AAAA;;AACN,eAAKvI,KAAL,CAAW8F,IAAX,CAAgBnB,SAAhB,CAA0B,UAAAmB,IAAI,EAAI;AAChC,mBAAI,CAAChE,IAAL,GAAYgE,IAAI,CAAC,MAAD,CAAhB;AACD,WAFD;AAGA,eAAKhH,WAAL,CAAiB0C,eAAjB,CAAiCmD,SAAjC,CAA2C,UAAApD,QAAQ;AAAA,mBAAI,OAAI,CAACA,QAAL,GAAgBA,QAApB;AAAA,WAAnD;AACD;;;qCAEY;AAAA;;AACX,eAAK3B,WAAL,CAAiB4I,UAAjB,CAA4B,KAAK1J,WAAL,CAAiB2B,YAAjB,CAA8BC,MAA1D,EAAkE,KAAKoB,IAAvE,EAA6E6C,SAA7E,CAAuF,UAAAjD,IAAI,EAAI;AAC7F,mBAAI,CAAC1C,QAAL,CAAcuH,OAAd,CAAsB,8BAAtB;;AACA,mBAAI,CAAChH,QAAL,CAAckJ,KAAd,CAAoB,OAAI,CAAC3G,IAAzB;AACD,WAHD,EAGG,UAAA5C,KAAK,EAAI;AACR,mBAAI,CAACF,QAAL,CAAcE,KAAd,CAAoBA,KAApB;AACH,WALD;AAMD;;;wCAEeqC,Q,EAAU;AACxB,eAAKO,IAAL,CAAUP,QAAV,GAAqBA,QAArB;AACD;;;;;;;uBA/BU8G,mB,EAAmB,+H,EAAA,2I,EAAA,mI,EAAA,mI;AAAA,K;;;YAAnBA,mB;AAAmB,sC;AAAA;AAAA;;;;;;;;;;;;;mBAAnB,8B;AAA0B,W,EAAA,K,EAAA,6D;;;;;;;;ACbvC;;AACE;;AACE;;AACE;;AAAI;;AAAY;;AAClB;;AACA;;AACE;;AAGF;;AACF;;AACA;;AACE;;AACE;;AACE;;AACA;;AACE;;AAAQ;;AAAS;;AACjB;;AAAG;;AAA+B;;AAClC;;AACE;;AAAQ;;AAAI;;AACZ;;AAAG;;AAAY;;AACjB;;AACA;;AACE;;AAAQ;;AAAY;;AACpB;;AAAG;;;;AAA8B;;AACnC;;AACA;;AACE;;AAAQ;;AAAa;;AACrB;;AAAG;;;;AAAqC;;AAC1C;;AACF;;AACA;;AACE;;AAAuE;AAAA,mBAAS,IAAAG,UAAA,EAAT;AAAqB,WAArB;;AAAuB;;AAAY;;AAC5G;;AACF;;AACF;;AACA;;AACE;;AACE;;AACE;;AACE;;AAAyB;AAAA,mBAAY,IAAAA,UAAA,EAAZ;AAAwB,WAAxB;;AACvB;;AAAI;;AAAW;;AACf;;AAA4D;AAAA;AAAA;;AAAgC;;AAC5F;;AAAI;;AAAW;;AACf;;AAA0D;AAAA;AAAA;;AAA8B;;AACxF;;AAAI;;AAAS;;AACb;;AAAyD;AAAA;AAAA;;AAA6B;;AACtF;;AAAI;;AAAiB;;AACrB;;AACE;;AAAkB;;AAAI;;AACtB;;AAAoD;AAAA;AAAA;;AAApD;;AACA;;AAAqB;;AAAO;;AAC5B;;AAAuD;AAAA;AAAA;;AAAvD;;AACF;;AACF;;AACF;;AACA;;AACE;;AAAyC;AAAA,mBAAwB,IAAAE,eAAA,QAAxB;AAA+C,WAA/C;;AAAiD;;AAC5F;;AACF;;AACF;;AACF;;AACF;;AACF;;;;;;AAzDW;;AAAA;;AAQqC;;AAAA;;AAA8C;;AAGjF;;AAAA;;AAGE;;AAAA;;AAIA;;AAAA;;AAIA;;AAAA;;AAIG;;AAAA;;AAUwD;;AAAA;;AAEF;;AAAA;;AAED;;AAAA;;AAIH;;AAAA;;AAEG;;AAAA;;AAKzC;;AAAA;;;;;;;;;;sED5CjBL,mB,EAAmB;cAL/B,uDAK+B;eALrB;AACTxD,kBAAQ,EAAE,iBADD;AAETC,qBAAW,EAAE,8BAFJ;AAGTC,mBAAS,EAAE,CAAC,6BAAD;AAHF,S;AAKqB,Q;;;;;;;;;;;;gBAC7B,uD;iBAAU,U;;;gBAGV,0D;iBAAa,qB,EAAuB,CAAC,QAAD,C;;;;;;;;;;;;;;;;;;;;AElBvC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACwBQ;;AACE;;AACF;;;;;;AAF0C;;AACxC;;AAAA;;;;;;AAmBN;;AACE;;AACF;;;;;;AADmB;;AAAA;;;;QDjCV4D,mB;AAOX,mCAAoB/I,WAApB,EAAsDZ,QAAtD,EAAyFgB,KAAzF,EAAgH;AAAA;;AAA5F,aAAAJ,WAAA,GAAAA,WAAA;AAAkC,aAAAZ,QAAA,GAAAA,QAAA;AAAmC,aAAAgB,KAAA,GAAAA,KAAA;AALzF,aAAA8B,IAAA,GAAaI,IAAI,CAACoC,KAAL,CAAWvC,YAAY,CAACQ,OAAb,CAAqB,MAArB,CAAX,CAAb;AACA,aAAAqG,UAAA,GAAa,CAAC;AAAEC,eAAK,EAAE,MAAT;AAAiBC,iBAAO,EAAE;AAA1B,SAAD,EAAsC;AAAED,eAAK,EAAE,QAAT;AAAmBC,iBAAO,EAAE;AAA5B,SAAtC,CAAb;AACA,aAAAnF,UAAA,GAAkB,EAAlB;AAGmH;;;;mCAE3G;AAAA;;AACN,eAAK3D,KAAL,CAAW8F,IAAX,CAAgBnB,SAAhB,CAA0B,UAAAmB,IAAI,EAAI;AAChC,mBAAI,CAACC,KAAL,GAAaD,IAAI,CAAC,OAAD,CAAJ,CAAc3B,MAA3B;AACA,mBAAI,CAACE,UAAL,GAAkByB,IAAI,CAAC,OAAD,CAAJ,CAAczB,UAAhC;AACD,WAHD;AAKA,eAAKV,UAAL,CAAgBK,MAAhB,GAAyB,KAAKlC,IAAL,CAAUkC,MAAV,KAAqB,MAArB,GAA8B,QAA9B,GAAyC,MAAlE;AACA,eAAKL,UAAL,CAAgBG,MAAhB,GAAyB,EAAzB;AACA,eAAKH,UAAL,CAAgBI,MAAhB,GAAyB,EAAzB;AACA,eAAKJ,UAAL,CAAgBM,OAAhB,GAA0B,YAA1B;AACD;;;oCAEW+B,K,EAAU;AACpB,eAAK3B,UAAL,CAAgB4B,WAAhB,GAA8BD,KAAK,CAACvC,IAApC;AACA,eAAKyC,SAAL;AACD;;;uCAEc;AACb,eAAKvC,UAAL,CAAgBK,MAAhB,GAAyB,KAAKlC,IAAL,CAAUkC,MAAV,KAAqB,MAArB,GAA8B,QAA9B,GAAyC,MAAlE;AACA,eAAKL,UAAL,CAAgBG,MAAhB,GAAyB,EAAzB;AACA,eAAKH,UAAL,CAAgBI,MAAhB,GAAyB,EAAzB;AACA,eAAKmC,SAAL;AACD;;;oCAEW;AAAA;;AACV,eAAKtG,WAAL,CAAiBK,QAAjB,CAA0B,KAAKoE,UAAL,CAAgB4B,WAA1C,EAAuD,KAAK5B,UAAL,CAAgBX,YAAvE,EAAqF,KAAKC,UAA1F,EACGgB,SADH,CACa,UAACwB,GAAD,EAAkC;AAC3C,mBAAI,CAACJ,KAAL,GAAaI,GAAG,CAAChC,MAAjB;AACA,mBAAI,CAACE,UAAL,GAAkB8B,GAAG,CAAC9B,UAAtB;AACH,WAJD,EAIG,UAAAnF,KAAK,EAAI;AACR,mBAAI,CAACF,QAAL,CAAcE,KAAd,CAAoBA,KAApB;AACH,WAND;AAOD;;;;;;;uBAzCUyJ,mB,EAAmB,mI,EAAA,2I,EAAA,+H;AAAA,K;;;YAAnBA,mB;AAAmB,sC;AAAA,e;AAAA,c;AAAA,k6C;AAAA;AAAA;ACXhC;;AACE;;AAAI;;AAA8C;;AACpD;;AAGA;;AACE;;AACE;;AACE;;AAAoB;;AAAQ;;AAC5B;;AACO;AAAA;AAAA;;AADP;;AAEF;;AAEA;;AACE;;AAAoB;;AAAM;;AAC1B;;AACO;AAAA;AAAA;;AADP;;AAEF;;AAEA;;AACE;;AAAoB;;AAAM;;AAC1B;;AACQ;AAAA;AAAA;;AACN;;AAGF;;AACF;;AACA;;AAA8C;AAAA,mBAAS,IAAAzC,SAAA,EAAT;AAAoB,WAApB;;AAA+C;;AAAa;;AAC1G;;AAA2C;AAAA,mBAAS,IAAA6C,YAAA,EAAT;AAAuB,WAAvB;;AAAkD;;AAAY;;AAEzG;;AACE;;AACE;;AAA6D;AAAA;AAAA,aAAgC,OAAhC,EAAgC;AAAA,mBAC7E,IAAA7C,SAAA,EAD6E;AAClE,WADkC;;AACV;;AAAW;;AAC9D;;AAA6D;AAAA;AAAA,aAAgC,OAAhC,EAAgC;AAAA,mBAC5E,IAAAA,SAAA,EAD4E;AACjE,WADiC;;AACZ;;AAAc;;AACjE;;AACF;;AAEF;;AACA;;AACA;;AACE;;AAGF;;AACF;;AAEA;;AACE;;AACY;AAAA;AAAA,aAAoC,aAApC,EAAoC;AAAA,mBACrB,IAAAE,WAAA,QADqB;AACF,WADlC;;AAGZ;;AACF;;;;AAtDM;;AAAA;;AASO;;AAAA;;AAMA;;AAAA;;AAMC;;AAAA;;AACE;;AAAA;;AAUqD;;AAAA;;AAEA;;AAAA;;AAQ5D;;AAAA;;AAOK;;AAAA,4GAAoC,cAApC,EAAoC,2BAApC,EAAoC,SAApC,EAAoC,0BAApC;;;;;;;;;sEDvCDuC,mB,EAAmB;cAL/B,uDAK+B;eALrB;AACT9D,kBAAQ,EAAE,iBADD;AAETC,qBAAW,EAAE,8BAFJ;AAGTC,mBAAS,EAAE,CAAC,6BAAD;AAHF,S;AAKqB,Q;;;;;;;;;;;;;;;;;;;;;;;;;;AEZhC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACGI;;AACE;;AACF;;;;;;AAKI;;AACE;;AACE;;AAGF;;AACA;;AACE;;AACE;;AAA6B;;AAA2B;;AACxD;;AACE;;AACE;;;;AAGF;;AACF;;AACF;;AACA;;AAAG;;AAAqB;;AAC1B;;AACF;;;;;;AAjBS;;AAAA;;AACA;;AAK0B;;AAAA;;AAGzB;;AAAA;;AAMH;;AAAA;;;;;;AAmBC;;AAAkD;;AAAQ;;;;;;AAC1D;;AAAkD;;;;AAAuC;;;;;;AAAvC;;AAAA;;;;;;AAf1D;;AACE;;AACE;;AAGF;;AACA;;AACE;;AACE;;AACE;;AACE;;;;AAGF;;AACA;;AACA;;AACF;;AACA;;AACE;;AAGF;;AACF;;AACA;;AAAG;;AAAqB;;AAC1B;;AACF;;;;;;AAvBS;;AAAA;;AACA;;AAOC;;AAAA;;AAII;;AAAA;;AACA;;AAAA;;AAGN;;AAAA;;AAKD;;AAAA;;;;;;AA/CT;;AAEE;;AAsBA;;AA0BF;;;;;;;;AAhDO;;AAAA;;AAsBA;;AAAA;;;;QDnBAiE,uB;AAKX,uCAAoBpJ,WAApB,EACUd,WADV,EAC4CE,QAD5C,EACuE;AAAA;;AADnD,aAAAY,WAAA,GAAAA,WAAA;AACV,aAAAd,WAAA,GAAAA,WAAA;AAAkC,aAAAE,QAAA,GAAAA,QAAA;AAH5C,aAAAiK,UAAA,GAAkB,EAAlB;AAG0E;;;;mCAElE;AACN,eAAKC,YAAL;AACD;;;uCAEc;AAAA;;AACb,cAAMC,aAAa,GAAG,CAAC,KAAKrK,WAAL,CAAiB2B,YAAjB,CAA8BC,MAArD;AACA,eAAKd,WAAL,CAAiBwJ,gBAAjB,CAAkC,KAAKtK,WAAL,CAAiB2B,YAAjB,CAA8BC,MAAhE,EAAwE,KAAK+D,WAA7E,EACGvE,IADH,CAEI,2DAAI,UAAAmJ,QAAQ,EAAI;AACd,iBAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,QAAQ,CAACE,MAA7B,EAAqCD,CAAC,EAAtC,EAA0C;AACxC,kBAAID,QAAQ,CAACC,CAAD,CAAR,CAAYE,MAAZ,KAAuB,KAAvB,IAAgCH,QAAQ,CAACC,CAAD,CAAR,CAAY7E,WAAZ,KAA4B0E,aAAhE,EAA+E;AAC7E,uBAAI,CAACvJ,WAAL,CAAiB6J,UAAjB,CAA4BN,aAA5B,EAA2CE,QAAQ,CAACC,CAAD,CAAR,CAAY1K,EAAvD;AACD;AACF;AACF,WAND,CAFJ,EAUG+F,SAVH,CAUa,UAAA0E,QAAQ,EAAI;AACrB,mBAAI,CAACA,QAAL,GAAgBA,QAAhB;AACD,WAZH,EAYK,UAAAnK,KAAK,EAAI;AACR,mBAAI,CAACF,QAAL,CAAcE,KAAd,CAAoBA,KAApB;AACH,WAdH;AAeD;;;sCAEa;AAAA;;AACZ,eAAK+J,UAAL,CAAgBxE,WAAhB,GAA8B,KAAKA,WAAnC;AACA,eAAK7E,WAAL,CAAiB8J,WAAjB,CAA6B,KAAK5K,WAAL,CAAiB2B,YAAjB,CAA8BC,MAA3D,EAAmE,KAAKuI,UAAxE,EACGtE,SADH,CACa,UAAC3D,OAAD,EAAsB;AAC/B,mBAAI,CAACqI,QAAL,CAAcM,OAAd,CAAsB3I,OAAtB;;AACAb,mBAAO,CAACC,GAAR,CAAYY,OAAZ;AACA,mBAAI,CAACiI,UAAL,CAAgBW,OAAhB,GAA0B,EAA1B;AACD,WALH,EAKK,UAAA1K,KAAK,EAAI;AACR,mBAAI,CAACF,QAAL,CAAcE,KAAd,CAAoBA,KAApB;AACH,WAPH;AAQD;;;;;;;uBAzCU8J,uB,EAAuB,mI,EAAA,mI,EAAA,2I;AAAA,K;;;YAAvBA,uB;AAAuB,0C;AAAA;AAAA;AAAA,O;AAAA,e;AAAA,a;AAAA,wxB;AAAA;AAAA;;;ACZpC;;AACE;;AACE;;AAIA;;AACE;;AAmDF;;AACF;;AAEA;;AACE;;AAA4B;AAAA;;AAAA;;AAAA,gCAAiC,IAAAU,WAAA,EAAjC;AAA8C,WAA9C;;AAC1B;;AACE;;AACO;AAAA;AAAA;;AADP;;AAMA;;AACE;;AACE;;AACF;;AACF;;AACF;;AACF;;AACF;;AACF;;;;;;AA5ES;;AAAA;;AAKC;;AAAA;;AA0DK;;AAAA;;AAMG;;AAAA;;;;;;;;;;sED3DLV,uB,EAAuB;cALnC,uDAKmC;eALzB;AACTnE,kBAAQ,EAAE,qBADD;AAETC,qBAAW,EAAE,kCAFJ;AAGTC,mBAAS,EAAE,CAAC,iCAAD;AAHF,S;AAKyB,Q;;;;;;;;;;gBACjC;;;;;;;;;;;;;;;;;;;;AEdH;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;ACEE;;AACE;;AACA;;AACE;;AAA+C;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAEb;;AAAI;;AACtC;;AAA8E;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAAgC;;AAAsC;;AACtJ;;AACF;;;;;;AAPO;;AAAA;;AAGK;;AAAA,sIAAiE,UAAjE,EAAiE,eAAjE;;AAE4C;;AAAA;;;;;;AA0ChD;;AAA4C;;;;AAAiD;;;;;;AAAjD;;AAAA;;;;;;AAF9C;;AACE;;AAAI;;AAAQ;;AAAsB;;AAAS;;AAC3C;;AACF;;;;;;;;AAFc;;AAAA;;AACR;;AAAA;;;;;;;;;;;;;;AAfZ;;AAEE;;AAAI;;AAAY;;AAChB;;AAAG;;AAA2C;;AAE9C;;AACE;;AACE;;AACE;;AAAgB;;AAAI;;AACpB;;AAAI;;AAAI;;AACV;;AACF;;AACA;;AACE;;AAIF;;AACF;;AAEA;;AACE;;AACE;;AACA;;AACE;;AACF;;AACF;;AACA;;AACQ;AAAA;;AAAA;;AAAA,iBAAS,QAAA8E,QAAA,YAAT;AAA6B,SAA7B;;AACN;;AAAmC;;AACrC;;AACA;;AACQ;AAAA;;AAAA;;AAAA,iBAAS,QAAAA,QAAA,YAAT;AAA6B,SAA7B;;AACN;;AAAgC;;AAClC;;AACA;;AACQ;AAAA;;AAAA;;AAAA,iBAAS,QAAAA,QAAA,aAAT;AAA8B,SAA9B;;AACN;;AAAkC;;AACpC;;AACF;;AAEF;;;;;;AAtCK;;AAAA;;AAUK;;AAAA;;AAW2C;;AAAA;;AAIV;;AAAA;;AAIA;;AAAA;;AAIC;;AAAA;;;;;;;;;;QD1DjCC,oB;AASX,oCAAoBhL,WAApB,EAAsDc,WAAtD,EAAwFZ,QAAxF,EAAmH;AAAA;;AAA/F,aAAAF,WAAA,GAAAA,WAAA;AAAkC,aAAAc,WAAA,GAAAA,WAAA;AAAkC,aAAAZ,QAAA,GAAAA,QAAA;AAP9E,aAAA+K,oBAAA,GAAuB,IAAI,0DAAJ,EAAvB;AAEV,aAAAC,mBAAA,GAA+B,KAA/B;AACA,aAAAC,sBAAA,GAAkC,KAAlC;AACA,aAAA7I,OAAA,GAAU,sEAAYC,MAAtB;AAGsH;;;;mCAE9G;AACN,eAAK6I,kBAAL;AACD;;;qCAEa5L,C,EAAM;AAClB,eAAK0L,mBAAL,GAA2B1L,CAA3B;AACA;;;6CAEmB;AAAA;;AACnB,eAAKuL,QAAL,GAAgB,IAAI,4DAAJ,CAAiB;AAC/B/B,eAAG,EAAE,KAAK1G,OAAL,GAAe,QAAf,GAA0B,KAAKtC,WAAL,CAAiB2B,YAAjB,CAA8BC,MAAxD,GAAiE,SADvC;AAE/ByJ,qBAAS,EAAE,YAAYpI,YAAY,CAACQ,OAAb,CAAqB,OAArB,CAFQ;AAG/B6H,mBAAO,EAAE,IAHsB;AAI/BC,2BAAe,EAAE,CAAC,OAAD,CAJc;AAK/BC,6BAAiB,EAAE,IALY;AAM/BC,sBAAU,EAAE,KANmB;AAO/BC,uBAAW,EAAE,KAAK,IAAL,GAAY;AAPM,WAAjB,CAAhB;;AASA,eAAKX,QAAL,CAAcY,iBAAd,GAAkC,UAACC,IAAD,EAAU;AAAEA,gBAAI,CAACC,eAAL,GAAuB,KAAvB;AAA+B,WAA7E;;AACA,eAAKd,QAAL,CAAce,aAAd,GAA8B,UAACC,IAAD,EAAOhJ,QAAP,EAAiBc,MAAjB,EAAyBG,OAAzB,EAAqC;AACjE,gBAAIjB,QAAJ,EAAc;AACZ,kBAAMsE,GAAG,GAAUjE,IAAI,CAACoC,KAAL,CAAWzC,QAAX,CAAnB;AACA,kBAAM8F,KAAK,GAAG;AACZ/I,kBAAE,EAAEuH,GAAG,CAACvH,EADI;AAEZkJ,mBAAG,EAAE3B,GAAG,CAAC2B,GAFG;AAGZgD,yBAAS,EAAE3E,GAAG,CAAC2E,SAHH;AAIZ5C,2BAAW,EAAE/B,GAAG,CAAC+B,WAJL;AAKZ6C,sBAAM,EAAE5E,GAAG,CAAC4E;AALA,eAAd;;AAOA,qBAAI,CAACrD,MAAL,CAAYE,IAAZ,CAAiBD,KAAjB;;AACA,kBAAIA,KAAK,CAACoD,MAAV,EAAkB;AAChB,uBAAI,CAACjM,WAAL,CAAiBwD,iBAAjB,CAAmCqF,KAAK,CAACG,GAAzC;;AACA,uBAAI,CAAChJ,WAAL,CAAiBuD,WAAjB,CAA6Bd,QAA7B,GAAwCoG,KAAK,CAACG,GAA9C;AACA/F,4BAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BE,IAAI,CAACC,SAAL,CAAe,OAAI,CAACrD,WAAL,CAAiBuD,WAAhC,CAA7B;AACD;AACF;AACF,WAjBD;AAkBD;;;qCAEYsF,K,EAAc;AAAA;;AACzB,eAAK/H,WAAL,CAAiBoL,YAAjB,CAA8B,KAAKlM,WAAL,CAAiB2B,YAAjB,CAA8BC,MAA5D,EAAoEiH,KAAK,CAAC/I,EAA1E,EAA8E+F,SAA9E,CAAwF,YAAM;AAC5F,mBAAI,CAACsG,WAAL,GAAmB,OAAI,CAACvD,MAAL,CAAYwD,MAAZ,CAAmB,UAAAC,CAAC;AAAA,qBAAIA,CAAC,CAACJ,MAAF,KAAa,IAAjB;AAAA,aAApB,EAA2C,CAA3C,CAAnB;AACA,mBAAI,CAACE,WAAL,CAAiBF,MAAjB,GAA0B,KAA1B;AACApD,iBAAK,CAACoD,MAAN,GAAe,IAAf;;AACA,mBAAI,CAACjM,WAAL,CAAiBwD,iBAAjB,CAAmCqF,KAAK,CAACG,GAAzC;;AACA,mBAAI,CAAChJ,WAAL,CAAiBuD,WAAjB,CAA6Bd,QAA7B,GAAwCoG,KAAK,CAACG,GAA9C;AACA/F,wBAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BE,IAAI,CAACC,SAAL,CAAe,OAAI,CAACrD,WAAL,CAAiBuD,WAAhC,CAA7B;AACD,WAPD,EAOG,UAAAnD,KAAK,EAAI;AACR,mBAAI,CAACF,QAAL,CAAcE,KAAd,CAAoBA,KAApB;AACH,WATD;AAUD;;;oCAEWN,E,EAAY;AAAA;;AACtB,cAAIwM,IAAI,GAAG,IAAX;AACAjL,iBAAO,CAACC,GAAR,CAAY,GAAZ;AAEAgL,cAAI,CAACpM,QAAL,CAAcS,OAAd,CAAsB,6CAAtB,EAAsE,YAAM;AAC1EU,mBAAO,CAACC,GAAR,CAAY,GAAZ;AACAgL,gBAAI,CAACxL,WAAL,CAAiByL,WAAjB,CAA6B,OAAI,CAACvM,WAAL,CAAiB2B,YAAjB,CAA8BC,MAA3D,EAAmE9B,EAAnE,EAAuE+F,SAAvE,CAAiF,YAAM;AACrFxE,qBAAO,CAACC,GAAR,CAAY,GAAZ;AACAgL,kBAAI,CAAC1D,MAAL,CAAY4D,MAAZ,CAAmB,OAAI,CAAC5D,MAAL,CAAY6D,SAAZ,CAAsB,UAAAJ,CAAC;AAAA,uBAAIA,CAAC,CAACvM,EAAF,KAASA,EAAb;AAAA,eAAvB,CAAnB,EAA4D,CAA5D;AACAwM,kBAAI,CAACpM,QAAL,CAAcuH,OAAd,CAAsB,yBAAtB;AACD,aAJD,EAIG,UAAArH,KAAK,EAAI;AACRiB,qBAAO,CAACC,GAAR,CAAY,GAAZ;AACAD,qBAAO,CAACC,GAAR,CAAYlB,KAAZ;AACAkM,kBAAI,CAACpM,QAAL,CAAcE,KAAd,CAAoB,6BAApB;AACH,aARD;AASD,WAXD;AAYD;;;;;;;uBA/EU4K,oB,EAAoB,mI,EAAA,mI,EAAA,2I;AAAA,K;;;YAApBA,oB;AAAoB,uC;AAAA;AAAA;AAAA,O;AAAA;AAAA;AAAA,O;AAAA,e;AAAA,a;AAAA,0vC;AAAA;AAAA;ACZjC;;AACE;;AASF;;AAEA;;AAEE;;AAEE;;AAAI;;AAAU;;AAEd;;AAEK;AAAA,mBAAY,IAAA0B,YAAA,QAAZ;AAAgC,WAAhC;;AAGH;;AACA;;AACF;;AAEA;;AACA;;AAAkE;;AAElE;;AACA;;AACF;;AAEA;;AA2CF;;;;AA5EwB;;AAAA;;AAkBf;;AAAA,8KAAiD,UAAjD,EAAiD,YAAjD;;AAS4B;;AAAA;;AAGA;;AAAA;;AAGe;;AAAA;;;;;;;;;;sEDtBvC1B,oB,EAAoB;cALhC,uDAKgC;eALtB;AACTjF,kBAAQ,EAAE,kBADD;AAETC,qBAAW,EAAE,+BAFJ;AAGTC,mBAAS,EAAE,CAAC,8BAAD;AAHF,S;AAKsB,Q;;;;;;;;;;gBAC9B;;;gBACA;;;;;;;;;;;;;;;;;;;;AEfH;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACgBE;;AACE;;AAAI;;AAAW;;AACjB;;;;;;AAcQ;;AACE;;AACA;;AAAQ;;AAAyB;;AACnC;;;;;;AAFO;;AAAA;;AACG;;AAAA;;;;;;AAEV;;AACE;;AACA;;AAAQ;;AAA4B;;AACtC;;;;;;AAFO;;AAAA;;AACG;;AAAA;;;;;;;;;;;;;;;;;;AAVd;;AAEE;;AAAI;;AAAmB;;AACvB;;AACE;;AAIA;;AAIF;;AACA;;AAAI;;;;AAAiC;;AACrC;;AACE;;AAA+B;AAAA;;AAAA,iBAASuD,MAAM,CAACmD,eAAP,EAAT;AAAiC,SAAjC,EAAkC,OAAlC,EAAkC;AAAA;;AAAA;;AAAA;;AAAA;AAAA,SAAlC;;AAAuE;;AAAM;;AAC9G;;AACF;;;;;;;;AAjBqC,0OACsC,aADtC,EACsC,sEADtC;;AAE/B;;AAAA;;AAEG;;AAAA;;AAIA;;AAAA;;AAKH;;AAAA;;;;;;AArBV;;AACE;;AACE;;AACE;;AAAuB;;AAAO;;AAC9B;;AAAuB;;AAAS;;AAChC;;AAAuB;;AAAe;;AACtC;;AACF;;AACA;;AAkBF;;AAEF;;;;;;AApBQ;;AAAA;;;;QDfGC,iB;AAKX,iCAAoB9L,WAApB,EAAsDd,WAAtD,EAAwFkB,KAAxF,EAAuHhB,QAAvH,EAAkJ;AAAA;;AAA9H,aAAAY,WAAA,GAAAA,WAAA;AAAkC,aAAAd,WAAA,GAAAA,WAAA;AAAkC,aAAAkB,KAAA,GAAAA,KAAA;AAA+B,aAAAhB,QAAA,GAAAA,QAAA;AAFvH,aAAA8B,gBAAA,GAAmB,QAAnB;AAEqJ;;;;mCAE7I;AAAA;;AACN,eAAKd,KAAL,CAAW8F,IAAX,CAAgBnB,SAAhB,CAA0B,UAAAmB,IAAI,EAAI;AAChC,mBAAI,CAACuD,QAAL,GAAgBvD,IAAI,CAAC,UAAD,CAAJ,CAAiB3B,MAAjC;AACA,mBAAI,CAACE,UAAL,GAAkByB,IAAI,CAAC,UAAD,CAAJ,CAAiBzB,UAAnC;AACD,WAHD;AAID;;;uCAEc;AAAA;;AACb,eAAKzE,WAAL,CAAiBiB,WAAjB,CAA6B,KAAK/B,WAAL,CAAiB2B,YAAjB,CAA8BC,MAA3D,EAAmE,KAAK2D,UAAL,CAAgB4B,WAAnF,EAAgG,KAAK5B,UAAL,CAAgBX,YAAhH,EAA8H,KAAK5C,gBAAnI,EACG6D,SADH,CACa,UAACwB,GAAD,EAAqC;AAC9C,mBAAI,CAACkD,QAAL,GAAgBlD,GAAG,CAAChC,MAApB;AACA,mBAAI,CAACE,UAAL,GAAkB8B,GAAG,CAAC9B,UAAtB;AACD,WAJH,EAIK,UAAAnF,KAAK,EAAI;AACR,mBAAI,CAACF,QAAL,CAAcE,KAAd,CAAoBA,KAApB;AACH,WANH;AAOD;;;sCAEaN,E,EAAY;AAAA;;AACxB,eAAKI,QAAL,CAAcS,OAAd,CAAsB,8CAAtB,EAAsE,YAAM;AAC1E,mBAAI,CAACG,WAAL,CAAiB+L,aAAjB,CAA+B/M,EAA/B,EAAmC,OAAI,CAACE,WAAL,CAAiB2B,YAAjB,CAA8BC,MAAjE,EAAyEiE,SAAzE,CAAmF,YAAM;AACvF,qBAAI,CAAC0E,QAAL,CAAciC,MAAd,CAAqB,OAAI,CAACjC,QAAL,CAAckC,SAAd,CAAwB,UAAAK,CAAC;AAAA,uBAAIA,CAAC,CAAChN,EAAF,KAASA,EAAb;AAAA,eAAzB,CAArB,EAAgE,CAAhE;;AACA,qBAAI,CAACI,QAAL,CAAcuH,OAAd,CAAsB,0BAAtB;AACD,aAHD,EAGG,UAAArH,KAAK,EAAI;AACR,qBAAI,CAACF,QAAL,CAAcE,KAAd,CAAoB,8BAApB;AACH,aALD;AAMD,WAPD;AAQD;;;oCAEW8G,K,EAAU;AACpB,eAAK3B,UAAL,CAAgB4B,WAAhB,GAA8BD,KAAK,CAACvC,IAApC;AACA,eAAKyF,YAAL;AACD;;;;;;;uBAtCUwC,iB,EAAiB,mI,EAAA,mI,EAAA,+H,EAAA,2I;AAAA,K;;;YAAjBA,iB;AAAiB,mC;AAAA,e;AAAA,a;AAAA,w8B;AAAA;AAAA;ACZ9B;;AACE;;AACE;;AACE;;AAAgC;AAAA;AAAA,aAA8B,OAA9B,EAA8B;AAAA,mBAA4B,IAAAxC,YAAA,EAA5B;AAA0C,WAAxE;;AAC9B;;AAA+B;;AACjC;;AACA;;AAAgC;AAAA;AAAA,aAA8B,OAA9B,EAA8B;AAAA,mBAA2B,IAAAA,YAAA,EAA3B;AAAyC,WAAvE;;AAC9B;;AAAoC;;AACtC;;AACA;;AAAgC;AAAA;AAAA,aAA8B,OAA9B,EAA8B;AAAA,mBAA4B,IAAAA,YAAA,EAA5B;AAA0C,WAAxE;;AAC9B;;AAAkC;;AACpC;;AACF;;AACF;;AAEA;;AAIA;;AA8BF;;AAEA;;AACE;;AAGY;AAAA;AAAA,aAAoC,aAApC,EAAoC;AAAA,mBACrB,IAAA9C,WAAA,QADqB;AACF,WADlC;;AAGZ;;AACF;;;;AAxDsC;;AAAA;;AAGA;;AAAA;;AAGA;;AAAA;;AAMnB;;AAAA;;AAIA;;AAAA;;AAiCL;;AAAA,0FAAsB,YAAtB,EAAsB,yBAAtB,EAAsB,cAAtB,EAAsB,2BAAtB,EAAsB,SAAtB,EAAsB,0BAAtB;;;;;;;;;;sEDxCDsF,iB,EAAiB;cAL7B,uDAK6B;eALnB;AACT7G,kBAAQ,EAAE,cADD;AAETC,qBAAW,EAAE,2BAFJ;AAGTC,mBAAS,EAAE,CAAC,0BAAD;AAHF,S;AAKmB,Q;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEb9B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;ACGI;;AACE;;AACE;;AAAgD;;AAAO;;AACzD;;AACA;;AACE;;AAA8C;;AAAK;;AACrD;;AACA;;AACE;;AAAiD;;AAAQ;;AAC3D;;AACF;;;;AARwB;;AAAA;;AAGA;;AAAA;;AAGA;;AAAA;;;;;;;;;;;;AAWtB;;AACE;;AAAyD;;AAA0B;;AAAY;;AAC/F;;AACA;;AAAyB;AAAA;;AAAA;;AAAA;AAAA;;AAAmB;;AAA8B;;AAAO;;AACnF;;;;AAH2B;;AAAA;;;;;;AAR7B;;AACE;;AACE;;AACF;;AACA;;AACE;;;;AACF;;AACA;;AAKF;;;;;;AAVS;;AAAA;;AAGL;;AAAA;;;;;;;;AASJ;;AAA+E;AAAA;;AAAA;;AAAA;AAAA;;AAC7E;;AAAiF;AAAA;;AAAA;;AAAA;AAAA;;AAAjF;;AACA;;AAAoF;AAAA;;AAAA;;AAAA;AAAA;;AAApF;;AACA;;AAAiG;;AAAK;;AACxG;;;;;;;;AAHmF;;AAAA;;AACG;;AAAA;;AAC5E;;AAAA;;;;;;;;QDtBD8G,Y;AAIX,4BAAmB/M,WAAnB,EAAqDE,QAArD,EAAwFD,MAAxF,EAAwG;AAAA;;AAArF,aAAAD,WAAA,GAAAA,WAAA;AAAkC,aAAAE,QAAA,GAAAA,QAAA;AAAmC,aAAAD,MAAA,GAAAA,MAAA;AAHxF,aAAA4C,KAAA,GAAa,EAAb;AAG2G;;;;mCAEnG;AAAA;;AACN,eAAK7C,WAAL,CAAiB0C,eAAjB,CAAiCmD,SAAjC,CAA2C,UAAApD,QAAQ;AAAA,mBAAI,OAAI,CAACA,QAAL,GAAgBA,QAApB;AAAA,WAAnD;AACD;;;gCAEO;AAAA;;AACN,eAAKzC,WAAL,CAAiBgN,KAAjB,CAAuB,KAAKnK,KAA5B,EAAmCgD,SAAnC,CAA6C,UAAAjD,IAAI,EAAI;AACnD,mBAAI,CAAC1C,QAAL,CAAcuH,OAAd,CAAsB,yBAAtB;AACD,WAFD,EAEG,UAAArH,KAAK,EAAI;AACViB,mBAAO,CAACC,GAAR,CAAY,kBAAZ;;AACA,mBAAI,CAACpB,QAAL,CAAcE,KAAd,CAAoBA,KAApB;AACD,WALD,EAKG,YAAM;AACP,mBAAI,CAACH,MAAL,CAAYI,QAAZ,CAAqB,CAAC,UAAD,CAArB;AACD,WAPD;AAQD;;;mCAEU;AACT,iBAAO,KAAKL,WAAL,CAAiBG,QAAjB,EAAP;AACD;;;iCAEQ;AACP8C,sBAAY,CAACgK,UAAb,CAAwB,OAAxB;AACAhK,sBAAY,CAACgK,UAAb,CAAwB,MAAxB;AACA,eAAKjN,WAAL,CAAiB2B,YAAjB,GAAgC,IAAhC;AACA,eAAK3B,WAAL,CAAiBuD,WAAjB,GAA+B,IAA/B;AACA,eAAKrD,QAAL,CAAcgC,OAAd,CAAsB,aAAtB;AACA,eAAKjC,MAAL,CAAYI,QAAZ,CAAqB,CAAC,OAAD,CAArB;AACD;;;;;;;uBAhCU0M,Y,EAAY,mI,EAAA,2I,EAAA,uH;AAAA,K;;;YAAZA,Y;AAAY,8B;AAAA,c;AAAA,a;AAAA,gsC;AAAA;AAAA;ACVzB;;AACE;;AACE;;AAAiD;;AAAU;;AAC3D;;AAYA;;AAcA;;AAKF;;AAEF;;;;AAlC4B;;AAAA;;AACpB;;AAAA;;AAYkB;;AAAA;;AAcI;;AAAA;;;;;;;;;;sEDnBjBA,Y,EAAY;cALxB,uDAKwB;eALd;AACThH,kBAAQ,EAAE,SADD;AAETC,qBAAW,EAAE,sBAFJ;AAGTC,mBAAS,EAAE,CAAC,qBAAD;AAHF,S;AAKc,Q;;;;;;;;;;;;;;;;;;;;;;;;;;AEVzB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACyBM;;AAA8H;;AAAoB;;;;;;AAMlJ;;AAAsI;;AAAyB;;;;;;AAM/J;;AAAwH;;AAAgB;;;;;;AAMxI;;AAA8H;;AAAmB;;;;;;AAOjJ;;AAAgI;;AAAoB;;;;;;AACpJ;;AAAiI;;AAAsC;;;;;;AACvK;;AAAiI;;AAAoC;;;;;;AAQrK;;AAA8I;;AAAoB;;;;;;AAClK;;AAAuH;;AAAoB;;;;;;;;;;QDhDpIiH,iB;AAOX,iCAAoBlN,WAApB,EAAsDC,MAAtD,EAA8EC,QAA9E,EAAiHiN,EAAjH,EAAkI;AAAA;;AAA9G,aAAAnN,WAAA,GAAAA,WAAA;AAAkC,aAAAC,MAAA,GAAAA,MAAA;AAAwB,aAAAC,QAAA,GAAAA,QAAA;AAAmC,aAAAiN,EAAA,GAAAA,EAAA;AALvG,aAAArG,cAAA,GAAiB,IAAI,0DAAJ,EAAjB;AAK2H;;;;mCAE7H;AACN,eAAKsG,QAAL,GAAgB;AACdC,0BAAc,EAAE;AADF,WAAhB,EAGA,KAAKC,kBAAL,EAHA;AAID;;;6CAEoB;AACnB,eAAKC,YAAL,GAAoB,KAAKJ,EAAL,CAAQK,KAAR,CAAc;AAChCtI,kBAAM,EAAE,CAAC,MAAD,CADwB;AAEhCuI,oBAAQ,EAAE,CAAC,EAAD,EAAK,0DAAWC,QAAhB,CAFsB;AAGhChG,mBAAO,EAAE,CAAC,EAAD,EAAK,0DAAWgG,QAAhB,CAHuB;AAIhCC,uBAAW,EAAE,CAAC,IAAD,EAAO,0DAAWD,QAAlB,CAJmB;AAKhCE,gBAAI,EAAE,CAAC,EAAD,EAAK,0DAAWF,QAAhB,CAL0B;AAMhCG,mBAAO,EAAE,CAAC,EAAD,EAAK,0DAAWH,QAAhB,CANuB;AAOhCI,oBAAQ,EAAE,CAAC,EAAD,EAAK,CAAC,0DAAWJ,QAAZ,EAAsB,0DAAWK,SAAX,CAAqB,CAArB,CAAtB,EAA+C,0DAAWC,SAAX,CAAqB,CAArB,CAA/C,CAAL,CAPsB;AAQhCC,2BAAe,EAAE,CAAC,EAAD,EAAK,0DAAWP,QAAhB;AARe,WAAd,EASjB;AAAEQ,sBAAU,EAAE,KAAKC;AAAnB,WATiB,CAApB;AAUD;;;+CAEsBC,C,EAAc;AACnC,iBAAOA,CAAC,CAACnK,GAAF,CAAM,UAAN,EAAkB8F,KAAlB,KAA4BqE,CAAC,CAACnK,GAAF,CAAM,iBAAN,EAAyB8F,KAArD,GAA6D,IAA7D,GAAoE;AAAE,wBAAY;AAAd,WAA3E;AACD;;;mCAEU;AAAA;;AACT,cAAI,KAAKwD,YAAL,CAAkBc,KAAtB,EAA6B;AAC3B,iBAAKrL,IAAL,GAAYsL,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkB,KAAKhB,YAAL,CAAkBxD,KAApC,CAAZ;AACA,iBAAK/J,WAAL,CAAiBwO,QAAjB,CAA0B,KAAKxL,IAA/B,EAAqC6C,SAArC,CAA+C,YAAM;AACnD,qBAAI,CAAC3F,QAAL,CAAcuH,OAAd,CAAsB,yBAAtB;AACD,aAFD,EAEG,UAAArH,KAAK,EAAI;AACR,qBAAI,CAACF,QAAL,CAAcE,KAAd,CAAoBA,KAApB;AACH,aAJD,EAIG,YAAM;AACL,qBAAI,CAACJ,WAAL,CAAiBgN,KAAjB,CAAuB,OAAI,CAAChK,IAA5B,EAAkC6C,SAAlC,CAA4C,YAAM;AAChD,uBAAI,CAAC5F,MAAL,CAAYI,QAAZ,CAAqB,CAAC,UAAD,CAArB;AACD,eAFD;AAGH,aARD;AASD;AACF;;;iCAEQ;AACP,eAAKyG,cAAL,CAAoB2H,IAApB,CAAyB,KAAzB;AACD;;;;;;;uBAlDUvB,iB,EAAiB,mI,EAAA,uH,EAAA,2I,EAAA,2H;AAAA,K;;;YAAjBA,iB;AAAiB,mC;AAAA;AAAA;AAAA,O;AAAA;AAAA;AAAA,O;AAAA,e;AAAA,c;AAAA,szC;AAAA;AAAA;ACZ5B;;AACE;;AAAqC;;AAAO;;AAC5C;;AAEA;;AACE;;AAAuD;;AAAQ;;AAC/D;;AACE;;AAAuE;;AACzE;;AACA;;AACE;;AAAyE;;AAC3E;;AACF;;AAEA;;AACE;;AAGA;;AAA8B;;AAAyB;;AACzD;;AAEA;;AACE;;AAEA;;AACF;;AAEA;;AACE;;AAEA;;AACF;;AAEA;;AACE;;AAEA;;AACF;;AAEA;;AACE;;AAEA;;AACF;;AAEA;;AACE;;AAGA;;AACA;;AACA;;AACF;;AAEA;;AACE;;AAIA;;AACA;;AACF;;AAEA;;AACE;;AAA+E;AAAA,mBAAS,IAAAsB,QAAA,EAAT;AAAmB,WAAnB;;AAAqB;;AAAQ;;AAC5G;;AAA8C;AAAA,mBAAS,IAAAE,MAAA,EAAT;AAAiB,WAAjB;;AAAmB;;AAAM;;AACzE;;AAEF;;;;AApEM;;AAgBK;;AAAA;;AAMA;;AAAA;;AAEuB;;AAAA;;AAIvB;;AAAA,iPAA6G,UAA7G,EAA6G,YAA7G;;AAEuB;;AAAA;;AAIvB;;AAAA;;AAEuB;;AAAA;;AAIvB;;AAAA;;AAEuB;;AAAA;;AAKvB;;AAAA;;AAEuB;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AAKvB;;AAAA;;AAGuB;;AAAA;;AACA;;AAAA;;AAIgB;;AAAA;;;;;;;;;sEDpDvCxB,iB,EAAiB;cAL7B,uDAK6B;eALnB;AACTnH,kBAAQ,EAAE,cADD;AAETC,qBAAW,EAAE,2BAFJ;AAGTC,mBAAS,EAAE,CAAC,0BAAD;AAHF,S;AAKmB,Q;;;;;;;;;;;;gBAC3B;;;gBACA;;;;;;;;;;;;;;;;;;;;AEdH;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAeO,QAAM0I,SAAS,GAAW,CAC/B;AAAEC,UAAI,EAAE,EAAR;AAAYpO,eAAS,EAAE;AAAvB,KAD+B,EAE/B;AAAEoO,UAAI,EAAE,SAAR;AAAmBpO,eAAS,EAAE,8FAA9B;AAAmDlB,aAAO,EAAE;AAAE2H,aAAK,EAAE;AAAT,OAA5D;AAA2F4H,iBAAW,EAAE,CAAC,4DAAD;AAAxG,KAF+B,EAG/B;AAAED,UAAI,EAAE,aAAR;AAAuBpO,eAAS,EAAE,oGAAlC;AAAyDlB,aAAO,EAAE;AAAE0D,YAAI,EAAE;AAAR,OAAlE;AAAkG6L,iBAAW,EAAE,CAAC,4DAAD;AAA/G,KAH+B,EAI/B;AAAED,UAAI,EAAE,aAAR;AAAuBpO,eAAS,EAAE,8FAAlC;AAAuDlB,aAAO,EAAE;AAAE0D,YAAI,EAAE;AAAR,OAAhE;AAA8F6L,iBAAW,EAAE,CAAC,4DAAD,CAA3G;AAAwHC,mBAAa,EAAE,CAAC,4FAAD;AAAvI,KAJ+B,EAK/B;AAAEF,UAAI,EAAE,OAAR;AAAiBpO,eAAS,EAAE,qEAA5B;AAA4ClB,aAAO,EAAE;AAAE2H,aAAK,EAAE;AAAT,OAArD;AAA+E4H,iBAAW,EAAE,CAAC,4DAAD;AAA5F,KAL+B,EAM/B;AAAED,UAAI,EAAE,UAAR;AAAoBpO,eAAS,EAAE,8EAA/B;AAAkDqO,iBAAW,EAAE,CAAC,4DAAD,CAA/D;AAA4EvP,aAAO,EAAE;AAAEiL,gBAAQ,EAAE;AAAZ;AAArF,KAN+B,EAO/B;AAAEqE,UAAI,EAAE,IAAR;AAAcG,gBAAU,EAAE,EAA1B;AAA8BC,eAAS,EAAE;AAAzC,KAP+B,CAA1B;;;;;;;;;;;;;;;;AChBP;AAAA;;;AAAA;AAAA;AAAA,O,CAAA;AACA;AACA;;;AAEO,QAAMC,WAAW,GAAG;AACzBC,gBAAU,EAAE,KADa;AAEzB3M,YAAM,EAAE;AAFiB,KAApB;AAKP;;;;;;;AAOA;;;;;;;;;;;;;;;;;AChBA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAMA,QAAI,sEAAY2M,UAAhB,EAA4B;AAC1B;AACD;;AAED,gFAAyBC,eAAzB,CAAyC,yDAAzC,WACS,UAAAC,GAAG;AAAA,aAAI/N,OAAO,CAACjB,KAAR,CAAcgP,GAAd,CAAJ;AAAA,KADZ","file":"main-es5.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","import { Injectable } from '@angular/core';\nimport { CanActivate, Router } from '@angular/router';\nimport { AuthService } from '../_services/auth.service';\r\nimport { AlertifyService } from '../_services/alertify.service';\r\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthGuard implements CanActivate {\n  constructor(private authService: AuthService, private router: Router, private alertify: AlertifyService) {}\n  canActivate(): boolean {\n    if (this.authService.loggedIn()) {\n      return true;\r\n    }\n\n    this.alertify.error(\"You shall not pass!!!\");\n    this.router.navigate(['/home']);\n    return false;\n  }\n  \n}\n","import { Injectable } from \"@angular/core\";\r\nimport { CanDeactivate } from '@angular/router';\r\nimport { MemberEditComponent } from '../members/member-edit/member-edit.component';\r\n\r\n@Injectable()\r\nexport class PreventUnsavedChanges implements CanDeactivate<MemberEditComponent> {\r\n\r\n  canDeactivate(component: MemberEditComponent) {\r\n    if (component.editForm.dirty) {\r\n      return confirm(\"Are you sure you want to continue? Any unsaved changes will be lost.\")\r\n    }\r\n    return true;\r\n  }\r\n}\r\n","\r\nexport interface Pagination {\r\n  currentPage: number;\r\n  itemsPerPage: number;\r\n  totalItems: number;\r\n  totalPages: number;\r\n}\r\n\r\nexport class PaginatedResult<T>{\r\n  result: T;\r\n  pagination: Pagination;\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { User } from '../_models/user';\r\nimport { Resolve, Router, ActivatedRouteSnapshot } from '@angular/router';\r\nimport { AlertifyService } from '../_services/alertify.service';\r\nimport { UserService } from '../_services/user.service';\r\nimport { Observable, of } from 'rxjs';\r\nimport { catchError } from 'rxjs/operators';\r\n\r\n\r\n@Injectable()\r\nexport class ListsResolver implements Resolve<User[]> {\r\n  pageNumber: number = 1;\r\n  pageSize: number = 5;\r\n  likesParam = 'likers';\r\n\r\n  constructor(private userService: UserService, private router: Router, private alertify: AlertifyService) { }\r\n\r\n  resolve(route: ActivatedRouteSnapshot): Observable<User[]> {\r\n    return this.userService.getUsers(this.pageNumber, this.pageSize, null, this.likesParam).pipe(\r\n      catchError(error => {\r\n        console.log(error);\r\n        this.alertify.error('Problem retrieving data');\r\n        this.router.navigate(['/home']);\r\n        return of(null);\r\n      })\r\n    );\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { User } from '../_models/user';\r\nimport { Resolve, Router, ActivatedRouteSnapshot } from '@angular/router';\r\nimport { AlertifyService } from '../_services/alertify.service';\r\nimport { UserService } from '../_services/user.service';\r\nimport { Observable, of } from 'rxjs';\r\nimport { catchError } from 'rxjs/operators';\r\n\r\n\r\n@Injectable()\r\nexport class MemberDetailResolver implements Resolve<User> {\r\n\r\n  constructor(private userService: UserService, private router: Router, private alertify: AlertifyService) { }\r\n\r\n  resolve(route: ActivatedRouteSnapshot): Observable<User> {\r\n    return this.userService.getUser(route.params['id']).pipe(\r\n      catchError(error => {\r\n        this.alertify.error('Problem retrieving data');\r\n        this.router.navigate(['/members']);\r\n        return of(null);\r\n      })\r\n    );\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { User } from '../_models/user';\r\nimport { Resolve, Router, ActivatedRouteSnapshot } from '@angular/router';\r\nimport { AlertifyService } from '../_services/alertify.service';\r\nimport { UserService } from '../_services/user.service';\r\nimport { Observable, of } from 'rxjs';\r\nimport { catchError } from 'rxjs/operators';\r\nimport { AuthService } from '../_services/auth.service';\r\n\r\n\r\n@Injectable()\r\nexport class MemberEditResolver implements Resolve<User> {\r\n  constructor(private userService: UserService, private authService: AuthService,\r\n    private router: Router, private alertify: AlertifyService) { }\r\n\r\n  resolve(route: ActivatedRouteSnapshot): Observable<User> {\r\n    return this.userService.getUser(this.authService.decodedToken.nameid).pipe(\r\n      catchError(error => {\r\n        this.alertify.error('Problem retrieving your data');\r\n        this.router.navigate(['/members']);\r\n        return of(null);\r\n      })\r\n    );\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { User } from '../_models/user';\r\nimport { Resolve, Router, ActivatedRouteSnapshot } from '@angular/router';\r\nimport { AlertifyService } from '../_services/alertify.service';\r\nimport { UserService } from '../_services/user.service';\r\nimport { Observable, of } from 'rxjs';\r\nimport { catchError } from 'rxjs/operators';\r\n\r\n\r\n@Injectable()\r\nexport class MemberListResolver implements Resolve<User[]> {\r\n  pageNumber: number = 1;\r\n  pageSize: number = 5;\r\n\r\n  constructor(private userService: UserService, private router: Router, private alertify: AlertifyService) { }\r\n\r\n  resolve(route: ActivatedRouteSnapshot): Observable<User[]> {\r\n    return this.userService.getUsers(this.pageNumber, this.pageSize).pipe(\r\n      catchError(error => {\r\n        console.log(error);\r\n        this.alertify.error('Problem retrieving data');\r\n        this.router.navigate(['/home']);\r\n        return of(null);\r\n      })\r\n    );\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Resolve, Router, ActivatedRouteSnapshot } from '@angular/router';\r\nimport { AlertifyService } from '../_services/alertify.service';\r\nimport { UserService } from '../_services/user.service';\r\nimport { Observable, of } from 'rxjs';\r\nimport { catchError } from 'rxjs/operators';\r\nimport { Message } from '../_models/Message';\r\nimport { AuthService } from '../_services/auth.service';\r\n\r\n\r\n@Injectable()\r\nexport class MessagesResolver implements Resolve<Message[]> {\r\n  pageNumber: number = 1;\r\n  pageSize: number = 5;\r\n  messageContainer: 'Unread';\r\n\r\n  constructor(private userService: UserService, private authService: AuthService,\r\n    private router: Router, private alertify: AlertifyService) { }\r\n\r\n  resolve(route: ActivatedRouteSnapshot): Observable<Message[]> {\r\n    return this.userService.getMessages(this.authService.decodedToken.nameid,\r\n      this.pageNumber, this.pageSize, this.messageContainer).pipe(\r\n      catchError(error => {\r\n        console.log(error);\r\n        this.alertify.error('Problem retrieving messages');\r\n        this.router.navigate(['/home']);\r\n        return of(null);\r\n      })\r\n    );\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\nimport * as alertify from 'alertifyjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AlertifyService {\n  \n  constructor() { }\n\n  confirm(message: string, okCallBack: (e) => any) {\n    alertify.confirm(message, (e: any) => {\r\n      if (e) {\r\n        okCallBack(e);\r\n      } else {}\r\n    });\r\n  }\n\n  success(message: string) {\n    alertify.success(message);\r\n  }\n\n  error(message: string) {\n    alertify.error(message);\r\n  }\n\n  warning(message: string) {\n    alertify.warning(message);\r\n  }\n\n  message(message: string) {\n    alertify.message(message);\r\n  }\n}\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\nimport { JwtHelperService } from '@auth0/angular-jwt';\r\nimport { AlertifyService } from './alertify.service';\r\nimport { environment } from '../../environments/environment';\r\nimport { User } from '../_models/user';\r\nimport { from } from 'rxjs';\r\n \r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AuthService {\r\n  baseUrl = environment.apiUrl + 'auth/';\r\n  jwtHelper = new JwtHelperService();\r\n  decodedToken: any;\r\n  currentUser: User;\r\n  photoUrl = new BehaviorSubject<string>('../../assets/user.png');\r\n  currentPhotoUrl = this.photoUrl.asObservable();\r\n\r\n  constructor(private http: HttpClient, private alertify: AlertifyService) { }\r\n\r\n  changeMemberPhoto(photoUrl: string) {\r\n    this.photoUrl.next(photoUrl);\r\n  }\r\n\r\n  login(model: any) {\r\n    return this.http.post(this.baseUrl + 'login', model).pipe(\r\n      map((response: any) => {\r\n        const user = response;\r\n        if (user) {\r\n          localStorage.setItem('token', user.token);\r\n          localStorage.setItem('user', JSON.stringify(user.user));\r\n          this.decodedToken = this.jwtHelper.decodeToken(user.token);\r\n          this.currentUser = user.user;\r\n          this.changeMemberPhoto(this.currentUser.photoUrl);\r\n        }\r\n      })\r\n    )\r\n  }\r\n\r\n  register(user: User) {\r\n    return this.http.post(this.baseUrl + 'register', user);\r\n  }\r\n\r\n  loggedIn() {\r\n    const token = localStorage.getItem('token');\r\n    return !this.jwtHelper.isTokenExpired(token);\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport {\r\n  HttpInterceptor,\r\n  HttpRequest,\r\n  HttpHandler,\r\n  HttpEvent,\r\n  HttpErrorResponse,\r\n  HTTP_INTERCEPTORS\r\n} from '@angular/common/http';\r\nimport { Observable, throwError } from 'rxjs';\r\nimport { catchError } from 'rxjs/operators';\r\n\r\n@Injectable()\r\nexport class ErrorInterceptor implements HttpInterceptor {\r\n  intercept(\r\n    req: HttpRequest<any>,\r\n    next: HttpHandler\r\n  ): Observable<HttpEvent<any>> {\r\n    return next.handle(req).pipe(\r\n      catchError(error => {\r\n        if (error instanceof HttpErrorResponse) {\r\n          if (error.status === 401) {\r\n            return throwError(error.statusText);\r\n          }\r\n          const applicationError = error.headers.get('Application-Error');\r\n          if (applicationError) {\r\n            return throwError(applicationError);\r\n          }\r\n          const serverError = error.error;\r\n          let modalStateErrors = '';\r\n          if (serverError.errors && typeof serverError.errors === 'object') {\r\n            for (const key in serverError.errors) {\r\n              if (serverError.errors[key]) {\r\n                modalStateErrors += serverError.errors[key] + '\\n';\r\n              }\r\n            }\r\n          }\r\n          return throwError(modalStateErrors || serverError || 'Server Error');\r\n        }\r\n      })\r\n    );\r\n  }\r\n}\r\n\r\nexport const ErrorInterceptorProvider = {\r\n  provide: HTTP_INTERCEPTORS,\r\n  useClass: ErrorInterceptor,\r\n  multi: true\r\n};\r\n","import { Injectable } from '@angular/core';\r\nimport { environment } from '../../environments/environment';\r\nimport { HttpClient, HttpHeaders, HttpParams } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { User } from '../_models/user';\r\nimport { PaginatedResult } from '../_models/Pagination';\r\nimport { map } from 'rxjs/operators';\r\nimport { Message } from '../_models/Message';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class UserService {\r\n  baseUrl = environment.apiUrl;\r\n  constructor(private http: HttpClient) { }\r\n  \r\n  getUsers(page?, itemsPerPage?, userParams?, likesParam?): Observable<PaginatedResult<User[]>> {\r\n    const paginatedResult: PaginatedResult<User[]> = new PaginatedResult<User[]>();\r\n\r\n    let params = new HttpParams();\r\n\r\n    if (page != null && itemsPerPage != null) {\r\n      params = params.append(\"pageNumber\", page);\r\n      params = params.append(\"pageSize\", itemsPerPage);\r\n    }\r\n\r\n    if (userParams != null) {\r\n      params = params.append(\"minAge\", userParams.minAge);\r\n      params = params.append(\"maxAge\", userParams.maxAge);\r\n      params = params.append(\"gender\", userParams.gender);\r\n      params = params.append(\"orderBy\", userParams.orderBy);\r\n    }\r\n    if (likesParam === 'likers') {\r\n      params = params.append(\"likers\", \"true\");\r\n    }\r\n    if (likesParam === 'likees') {\r\n      params = params.append(\"likees\", \"true\");\r\n    }\r\n\r\n    return this.http.get<User[]>(this.baseUrl + 'users', { observe: 'response', params })\r\n      .pipe(\r\n        map(response => {\r\n          paginatedResult.result = response.body;\r\n          if (response.headers.get(\"Pagination\") != null) {\r\n            paginatedResult.pagination = JSON.parse(response.headers.get(\"Pagination\"));\r\n          }\r\n          return paginatedResult;\r\n        }));\r\n  }\r\n\r\n  getUser(id): Observable<User> {\r\n    return this.http.get<User>(this.baseUrl + 'users/' + id);\r\n  }\r\n\r\n  updateUser(id: number, user: User) {\r\n    return this.http.put(this.baseUrl + 'users/' + id, user);\r\n  }\r\n\r\n  setMainPhoto(userId: number, id: number) {\r\n    return this.http.post(this.baseUrl + 'users/' + userId + '/photos/' + id + '/setMain', {})\r\n  }\r\n\r\n  deletePhoto(userId: number, id: number) {\r\n    return this.http.delete(this.baseUrl + 'users/' + userId + '/photos/' + id);\r\n  }\r\n\r\n  sendLike(id: number, recepientId: number) {\r\n    return this.http.post(this.baseUrl + 'users/' + id + '/like/' + recepientId, {});\r\n  }\r\n\r\n  getMessages(id: number, page?, itemsPerPage?, messageContainer?) {\r\n    const paginatedResult: PaginatedResult<Message[]> = new PaginatedResult<Message[]>();\r\n\r\n    let params = new HttpParams();\r\n    params = params.append('MessageContainer', messageContainer);\r\n\r\n    if (page != null && itemsPerPage != null) {\r\n      params = params.append(\"pageNumber\", page);\r\n      params = params.append(\"pageSize\", itemsPerPage);\r\n\r\n      return this.http.get<Message[]>(this.baseUrl + 'users/' + id + '/messages', { observe: 'response', params })\r\n        .pipe(\r\n          map(response => {\r\n            paginatedResult.result = response.body;\r\n            if (response.headers.get(\"Pagination\") !== null) {\r\n              paginatedResult.pagination = JSON.parse(response.headers.get(\"Pagination\"));\r\n            }\r\n            return paginatedResult;\r\n          })\r\n        );\r\n    }\r\n  }\r\n\r\n  getMessageThread(id: number, recepientId: number) {\r\n    return this.http.get<Message[]>(this.baseUrl + 'users/' + id + '/messages/thread/' + recepientId);\r\n  }\r\n\r\n  sendMessage(id: number, message: Message) {\r\n    return this.http.post(this.baseUrl + 'users/' + id + '/messages', message);\r\n  }\r\n\r\n  deleteMessage(id: number, userId: number) {\r\n    return this.http.post(this.baseUrl + 'users/' + userId + '/messages/' + id, {});\r\n  }\r\n\r\n  markAsRead(userId: number, messageId: number) {\r\n    this.http.post(this.baseUrl + 'users/' + userId + '/messages/' + messageId + '/read', {}).subscribe();\r\n  }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { AuthService } from './_services/auth.service';\r\nimport { JwtHelperService } from '@auth0/angular-jwt';\r\nimport { User } from './_models/user';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.css']\r\n})\r\nexport class AppComponent implements OnInit {\r\n  jwtHelper = new JwtHelperService();\r\n\r\n  constructor(private authService: AuthService) { }\r\n\r\n  ngOnInit() {\r\n    const token = localStorage.getItem(\"token\");\r\n    const user: User = JSON.parse(localStorage.getItem('user'));\r\n    if (token) {\r\n      this.authService.decodedToken = this.jwtHelper.decodeToken(token);\r\n    }\r\n    if (user) {\r\n      this.authService.currentUser = user;\r\n      this.authService.changeMemberPhoto(user.photoUrl);\r\n    }\r\n  }\r\n}\r\n","\n  <app-nav></app-nav>\n  <router-outlet></router-outlet>\n\n","import { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\nimport { HttpClientModule } from '@angular/common/http'\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms'\r\nimport { BsDropdownModule } from 'ngx-bootstrap/dropdown';\r\nimport { BsDatepickerModule } from 'ngx-bootstrap/datepicker';\r\nimport { TabsModule } from 'ngx-bootstrap/tabs';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\nimport { RouterModule } from '@angular/router';\r\nimport { JwtModule } from '@auth0/angular-jwt';\r\nimport { NgxGalleryModule } from 'ngx-gallery-9';\r\nimport { FileUploadModule } from 'ng2-file-upload';\r\nimport { TimeagoModule } from 'ngx-timeago'\r\nimport { PaginationModule } from 'ngx-bootstrap/pagination';\r\nimport { ButtonsModule } from 'ngx-bootstrap/buttons';\r\n\r\nimport { AppComponent } from './app.component';\r\nimport { from } from 'rxjs';\r\nimport { NavComponent } from './nav/nav.component';\r\nimport { AuthService } from './_services/auth.service';\r\nimport { RegisterComponent } from './register/register.component';\r\nimport { HomeComponent } from './home/home.component';\r\nimport { ErrorInterceptorProvider } from './_services/error.interceptor';\r\nimport { MemberListComponent } from './members/member-list/member-list.component';\r\nimport { ListsComponent } from './lists/lists.component';\r\nimport { MessagesComponent } from './messages/messages.component';\r\nimport { appRoutes } from './routes';\r\nimport { MemberCardComponent } from './members/member-card/member-card.component';\r\nimport { MemberDetailComponent } from './members/member-detail/member-detail.component';\r\nimport { MemberDetailResolver } from './_resolvers/member-detail.resolver';\r\nimport { MemberListResolver } from './_resolvers/member-list.resolver';\r\nimport { MemberEditComponent } from './members/member-edit/member-edit.component';\r\nimport { MemberEditResolver } from './_resolvers/member-edit.resolver';\r\nimport { PreventUnsavedChanges } from './_guards/prevent-unsaved-changes.guard';\r\nimport { PhotoEditorComponent } from './members/photo-editor/photo-editor.component';\r\nimport { ListsResolver } from './_resolvers/lists.resolver';\r\nimport { MessagesResolver } from './_resolvers/messages.resolver';\r\nimport { MemberMessagesComponent } from './members/member-messages/member-messages.component';\r\n\r\n\r\nexport function tokenGetter() {\r\n  return localStorage.getItem('token');\r\n}\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    NavComponent,\r\n    RegisterComponent,\r\n    HomeComponent,\r\n    MemberListComponent,\r\n    ListsComponent,\r\n    MessagesComponent,\r\n    MemberCardComponent,\r\n    MemberDetailComponent,\r\n    MemberEditComponent,\r\n    PhotoEditorComponent,\r\n    MemberMessagesComponent\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    HttpClientModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    BrowserAnimationsModule,\r\n    BsDropdownModule.forRoot(),\r\n    TabsModule.forRoot(),\r\n    RouterModule.forRoot(appRoutes),\r\n    BsDatepickerModule.forRoot(),\r\n    TimeagoModule.forRoot(),\r\n    PaginationModule.forRoot(),\r\n    ButtonsModule.forRoot(),\r\n    NgxGalleryModule,\r\n    FileUploadModule,\r\n    JwtModule.forRoot({\r\n      config: {\r\n        tokenGetter: tokenGetter,\r\n        whitelistedDomains: ['localhost:5000'],\r\n        blacklistedRoutes: ['localhost:5000/api/auth']\r\n      }\r\n    })\r\n  ],\r\n  providers: [\r\n    AuthService,\r\n    ErrorInterceptorProvider,\r\n    MemberDetailResolver,\r\n    MemberListResolver,\r\n    MemberEditResolver,\r\n    ListsResolver,\r\n    MessagesResolver,\r\n    PreventUnsavedChanges\r\n  ],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n","import { Component, OnInit } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\r\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.css']\n})\nexport class HomeComponent implements OnInit {\n  registerMode: any = false;\n  constructor(private http: HttpClient) { }\n\n  ngOnInit(): void {\n  }\n\n  registerToggle() {\n    this.registerMode = true;\r\n  }\n\n  cancelRegisterMode(cancelRegister: boolean) {\n    this.registerMode = cancelRegister;\r\n  }\n\n}\n","\n\n<div class=\"container mt-5\">\n  <div *ngIf=\"!registerMode\" style=\"text-align: center\">\n    <h1>Find your match</h1>\n    <p class=\"lead\">Come on in to view your matches... All you need to do is sign up!</p>\n    <div class=\"text-center\">\n      <button class=\"btn btn-primary btn-lg mr-2\" (click)=\"registerToggle()\">Register</button>\n      <button class=\"btn btn-info btn-lg\">Learn more</button>\n    </div>\n  </div>\n\n  <div *ngIf=\"registerMode\" class=\"container\">\n    <div class=\"row justify-content-center\">\n      <div class=\"col-4\">\n        <app-register (cancelRegister)=\"cancelRegisterMode($event)\"></app-register>\n      </div>\n    </div>\n  </div>\n</div>\n\n","import { Component, OnInit } from '@angular/core';\nimport { User } from '../_models/user';\r\nimport { Pagination, PaginatedResult } from '../_models/Pagination';\r\nimport { AuthService } from '../_services/auth.service';\r\nimport { UserService } from '../_services/user.service';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { AlertifyService } from '../_services/alertify.service';\r\n\n@Component({\n  selector: 'app-lists',\n  templateUrl: './lists.component.html',\n  styleUrls: ['./lists.component.css']\n})\nexport class ListsComponent implements OnInit {\n  users: User[];\n  pagination: Pagination;\n  likesParam: string;\n\n  constructor(private authService: AuthService, private userService: UserService, private route: ActivatedRoute, private alertify: AlertifyService) { }\n\n  ngOnInit(): void {\n    this.route.data.subscribe(data => {\n      this.users = data['users'].result;\r\n      this.pagination = data['users'].pagination;\r\n    });\n    this.likesParam = 'likers';\n  }\n\n  pageChanged(event: any): void {\r\n    this.pagination.currentPage = event.page;\r\n    this.loadUsers();\r\n  }\n\n  loadUsers() {\r\n    this.userService.getUsers(this.pagination.currentPage, this.pagination.itemsPerPage, null, this.likesParam)\r\n      .subscribe((res: PaginatedResult<User[]>) => {\r\n        this.users = res.result;\r\n        this.pagination = res.pagination;\r\n      }, error => {\r\n        this.alertify.error(error);\r\n      });\r\n  }\n}\n","\n<div class=\"text-center mt-3\">\n  <h2>{{likesParam === 'Likers' ? 'Members who like me' : 'Members who I\\'ve Liked'}} : {{pagination.totalItems}}</h2>\n</div>\n\n<div class=\"container mt-3\">\n\n  <div class=\"row\">\n    <div class=\"btn-group\">\n      <button class=\"btn btn-primary\" [(ngModel)]=\"likesParam\" btnRadio=\"likers\" (click)=\"loadUsers()\">Members who like me</button>\n      <button class=\"btn btn-primary\" [(ngModel)]=\"likesParam\" btnRadio=\"likees\" (click)=\"loadUsers()\">Members who I like</button>\n    </div>\n  </div>\n\n  <br>\n\n  <div class=\"row\">\n    <div *ngFor=\"let user of users\" class=\"col-sm-6 col-md-4 col-lg-4 col-xl-2\">\n      <app-member-card [user]=\"user\"></app-member-card>\n    </div>\n  </div>\n</div>\n\n<div class=\"d-flex justify-content-center\">\n  <pagination [boundaryLinks]=\"true\" [totalItems]=\"pagination.totalItems\" [itemsPerPage]=\"pagination.itemsPerPage\" [(ngModel)]=\"pagination.currentPage\"\n              (pageChanged)=\"pageChanged($event)\" previousText=\"&lsaquo;\" nextText=\"&rsaquo;\" firstText=\"&laquo;\" lastText=\"&raquo;\">\n\n  </pagination>\n</div>\n","import { Component, OnInit, Input } from '@angular/core';\nimport { User } from '../../_models/user';\r\nimport { AuthService } from '../../_services/auth.service';\r\nimport { UserService } from '../../_services/user.service';\r\nimport { AlertifyService } from '../../_services/alertify.service';\r\n\n@Component({\n  selector: 'app-member-card',\n  templateUrl: './member-card.component.html',\n  styleUrls: ['./member-card.component.css']\n})\nexport class MemberCardComponent implements OnInit {\n  @Input() user: User;\n\n  constructor(private authService: AuthService, private userService: UserService, private alertify: AlertifyService) { }\n\n  ngOnInit(): void {\n  }\n\n  sendLike(id: number) {\n    this.userService.sendLike(this.authService.decodedToken.nameid, id).subscribe(data => {\r\n      this.alertify.success(\"You have liked: \" + this.user.knownAs);\r\n    }, error => {\r\n      this.alertify.error(error);\r\n    });\r\n  }\n}\n","\n<div class=\"card mb-4\">\n  <div class=\"card-img-wrapper\">\n    <img class=\"card-img-top\" src=\"{{user.photoUrl || '../../../assets/user.png'}}\" alt=\"{{user.knownAs}}\" />\n    <ul class=\"list-inline member-icons animate text-center\">\n      <li class=\"list-inline-item\"><button class=\"btn btn-primary\" [routerLink]=\"['/members/', user.id]\"><i class=\"fa fa-user\"></i></button></li>\n      <li class=\"list-inline-item\"><button class=\"btn btn-primary\" (click)=\"sendLike(user.id)\"><i class=\"fa fa-heart\"></i></button></li>\n      <li class=\"list-inline-item\"><button class=\"btn btn-primary\" [routerLink]=\"['/members/', user.id]\" [queryParams]=\"{tab: 3}\"><i class=\"fa fa-envelope\"></i></button></li>\n    </ul>\n  </div>\n  <div class=\"card-body p-1\">\n    <h6 class=\"card-title text-center mb-1\"><i class=\"fa fa-user\"></i>{{user.knownAs}}, {{user.age}}</h6>\n    <p class=\"card-text text-muted text-center\">{{user.city}}</p>\n  </div>\n</div>\n","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { User } from '../../_models/user';\r\nimport { UserService } from '../../_services/user.service';\r\nimport { AlertifyService } from '../../_services/alertify.service';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { NgxGalleryOptions, NgxGalleryImage, NgxGalleryAnimation } from 'ngx-gallery-9';\r\nimport { NgForOf } from '@angular/common';\r\nimport { TabsetComponent } from 'ngx-bootstrap/tabs/public_api';\r\n\n@Component({\n  selector: 'app-member-detail',\n  templateUrl: './member-detail.component.html',\n  styleUrls: ['./member-detail.component.css']\n})\nexport class MemberDetailComponent implements OnInit {\n  @ViewChild('memberTabs', { static: true }) memberTabs: TabsetComponent;\n  user: User;\n  galleryOptions: NgxGalleryOptions[];\r\n  galleryImages: NgxGalleryImage[];\n\n  constructor(private userService: UserService, private alertify: AlertifyService, private route: ActivatedRoute) { }\n\n  ngOnInit(): void {\n    this.route.data.subscribe(data => {\n      this.user = data['user'];\r\n    });\n\n    this.route.queryParams.subscribe(params => {\n      const selectedtab = params['tab'];\r\n      this.memberTabs.tabs[selectedtab > 0 ? selectedtab : 0].active = true;\r\n    });\n\n    this.galleryOptions = [\n      {\n        width: '500px',\r\n        height: '500px',\r\n        imagePercent: 100,\r\n        thumbnailsColumns: 4,\r\n        imageAnimation: NgxGalleryAnimation.Slide,\r\n        preview: false\r\n      }\n    ];\n    this.galleryImages = this.getImages();\n  }\n\n  getImages() {\n    const imageUrls = [];\r\n    for (const photo of this.user.photos) {\r\n      imageUrls.push({\r\n        small: photo.url,\r\n        medium: photo.url,\r\n        big: photo.url,\r\n        decription: photo.description\r\n      });\r\n    }\r\n    return imageUrls;\r\n  }\n\n  selectTab(tabId: number) {\n    this.memberTabs.tabs[tabId].active = true;\r\n  }\n\n  //loadUser() {\n  //  this.userService.getUser(+this.route.snapshot.params['id']).subscribe((user: User) => {\r\n  //    this.user = user;\r\n  //  }, error => {\r\n  //      this.alertify.error(error);\r\n  //  });\r\n  //}\n\n}\n","<div class=\"container mt-4\">\n  <div class=\"row\">\n    <div class=\"col-sm-4\">\n      <h1>{{user.knownAs}}'s Profile</h1>\n    </div>\n  </div>\n  <div class=\"row\">\n    <div class=\"col-sm-4\">\n      <div class=\"card\">\n        <img class=\"card-img-top img-thumbnail\" src=\"{{user.photoUrl}}\" alt=\"{{user.knownAs}}\" />\n        <div class=\"card-body\">\n          <strong>Location:</strong>\n          <p>{{user.city}}, {{user.country}}</p>\n          <div>\n            <strong>Age:</strong>\n            <p>{{user.age}}</p>\n          </div>\n          <div>\n            <strong>Last Active:</strong>\n            <p>{{user.lastActive | timeago }}</p>\n          </div>\n          <div>\n            <strong>Member Since:</strong>\n            <p>{{user.created | date: \"mediumDate\"}}</p>\n          </div>\n        </div>\n        <div class=\"card-footer\">\n          <div class=\"btn-group d-flex\">\n            <button class=\"btn btn-primary w-100\">Like</button>\n            <button class=\"btn btn-success w-100\" (click)=\"selectTab(3)\">Message</button>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"col-sm-8\">\n      <div class=\"tab-panel\">\n        <tabset class=\"member-tabset\" #memberTabs>\n          <tab heading=\"About {{user.knownAs}}\">\n            <h4>Description</h4>\n            <p>{{user.introduction}}</p>\n            <h4>Looking For</h4>\n            <p>{{user.lookingFor}}</p>\n          </tab>\n          <tab heading=\"Interests\">\n            <h4>Interests</h4>\n            <p>{{user.interests}}</p>\n          </tab>\n          <tab heading=\"Photos\">\n            <ngx-gallery [options]=\"galleryOptions\" [images]=\"galleryImages\"></ngx-gallery>\n          </tab>\n          <tab heading=\"Messages\">\n            <app-member-messages [recepientId]=\"user.id\"></app-member-messages>\n          </tab>\n        </tabset>\n      </div>\n    </div>\n  </div>\n</div>\n\n","import { Component, OnInit, ViewChild, HostListener } from '@angular/core';\r\nimport { User } from '../../_models/user';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { AlertifyService } from '../../_services/alertify.service';\r\nimport { NgForm } from '@angular/forms';\r\nimport { window } from 'rxjs/operators';\r\nimport { UserService } from '../../_services/user.service';\r\nimport { AuthService } from '../../_services/auth.service';\r\n\r\n@Component({\r\n  selector: 'app-member-edit',\r\n  templateUrl: './member-edit.component.html',\r\n  styleUrls: ['./member-edit.component.css']\r\n})\r\nexport class MemberEditComponent implements OnInit {\r\n  @ViewChild('editForm') editForm: NgForm;\r\n  user: User;\r\n  photoUrl: string;\r\n  @HostListener('window:beforeunload', ['$event'])\r\n  unloadnotification($event: any) {\r\n    if (this.editForm.dirty) {\r\n      $event.returnValue = true;\r\n    }\r\n  }\r\n\r\n  constructor(private route: ActivatedRoute, private alertify: AlertifyService, private userService: UserService, private authService: AuthService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.route.data.subscribe(data => {\r\n      this.user = data['user'];\r\n    });\r\n    this.authService.currentPhotoUrl.subscribe(photoUrl => this.photoUrl = photoUrl);\r\n  }\r\n\r\n  updateUser() {\r\n    this.userService.updateUser(this.authService.decodedToken.nameid, this.user).subscribe(next => {\r\n      this.alertify.success(\"Profile updated successfully\");\r\n      this.editForm.reset(this.user);\r\n    }, error => {\r\n        this.alertify.error(error);\r\n    }); \r\n  }\r\n\r\n  updateMainPhoto(photoUrl) {\r\n    this.user.photoUrl = photoUrl;\r\n  }\r\n}\r\n","\n<div class=\"container mt-4\">\n  <div class=\"row\">\n    <div class=\"col-sm-4\">\n      <h1>Your Profile</h1>\n    </div>\n    <div class=\"col-md-8\">\n      <div *ngIf=\"editForm.dirty\" class=\"alert alert-info\">\n        <strong>Information:</strong>You have made changes. Any unsaved changes will be lost!\n      </div>\n    </div>\n  </div>\n  <div class=\"row\">\n    <div class=\"col-sm-4\">\n      <div class=\"card\">\n        <img class=\"card-img-top img-thumbnail\" src=\"{{photoUrl || '../../assets/user.png'}}\" alt=\"{{user.knownAs}}\" />\n        <div class=\"card-body\">\n          <strong>Location:</strong>\n          <p>{{user.city}}, {{user.country}}</p>\n          <div>\n            <strong>Age:</strong>\n            <p>{{user.age}}</p>\n          </div>\n          <div>\n            <strong>Last Active:</strong>\n            <p>{{user.lastActive | timeago }}</p>\n          </div>\n          <div>\n            <strong>Member Since:</strong>\n            <p>{{user.created | date: \"mediumDate\"}}</p>\n          </div>\n        </div>\n        <div class=\"card-footer\">\n          <button [disabled]=\"!editForm.dirty\" class=\"btn btn-success btn-block\" (click)=\"updateUser()\">Save Changes</button>\n        </div>\n      </div>\n    </div>\n    <div class=\"col-sm-8\">\n      <div class=\"tab-panel\">\n        <tabset class=\"member-tabset\">\n          <tab heading=\"Edit Profile\">\n            <form #editForm=\"ngForm\" (ngSubmit)=\"updateUser()\">\n              <h4>Description</h4>\n              <textarea name=\"introduction\" class=\"form-control\" rows=\"6\" [(ngModel)]=\"user.introduction\"></textarea>\n              <h4>Looking For</h4>\n              <textarea name=\"lookingFor\" class=\"form-control\" rows=\"6\" [(ngModel)]=\"user.lookingFor\"></textarea>\n              <h4>Interests</h4>\n              <textarea name=\"interests\" class=\"form-control\" rows=\"6\" [(ngModel)]=\"user.interests\"></textarea>\n              <h4>Location Details:</h4>\n              <div class=\"form-inline\">\n                <label for=\"city\">City</label>\n                <input class=\"form-control\" type=\"text\" name=\"city\" [(ngModel)]=\"user.city\" />\n                <label for=\"country\">Country</label>\n                <input class=\"form-control\" type=\"text\" name=\"country\" [(ngModel)]=\"user.country\" />\n              </div>\n            </form>\n          </tab>\n          <tab heading=\"Edit Photos\">\n            <app-photo-editor [photos]=\"user.photos\" (getMemberPhotoChange)=\"updateMainPhoto($event)\"></app-photo-editor>\n          </tab>\n        </tabset>\n      </div>\n    </div>\n  </div>\n</div>\n\n","import { Component, OnInit } from '@angular/core';\r\nimport { User } from '../../_models/user';\r\nimport { UserService } from '../../_services/user.service';\r\nimport { AlertifyService } from '../../_services/alertify.service';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { Pagination, PaginatedResult } from '../../_models/Pagination';\r\n\r\n@Component({\r\n  selector: 'app-member-list',\r\n  templateUrl: './member-list.component.html',\r\n  styleUrls: ['./member-list.component.css']\r\n})\r\nexport class MemberListComponent implements OnInit {\r\n  users: User[];\r\n  user: User = JSON.parse(localStorage.getItem('user'));\r\n  genderList = [{ value: 'male', display: 'Males' }, { value: 'female', display: 'Females' }];\r\n  userParams: any = {};\r\n  pagination: Pagination;\r\n\r\n  constructor(private userService: UserService, private alertify: AlertifyService, private route: ActivatedRoute) { }\r\n\r\n  ngOnInit(): void {\r\n    this.route.data.subscribe(data => {\r\n      this.users = data['users'].result;\r\n      this.pagination = data['users'].pagination;\r\n    });\r\n\r\n    this.userParams.gender = this.user.gender === 'male' ? 'female' : 'male';\r\n    this.userParams.minAge = 18;\r\n    this.userParams.maxAge = 99;\r\n    this.userParams.orderBy = 'lastActive';\r\n  }\r\n\r\n  pageChanged(event: any): void {\r\n    this.pagination.currentPage = event.page;\r\n    this.loadUsers();\r\n  }\r\n\r\n  resetFilters() {\r\n    this.userParams.gender = this.user.gender === 'male' ? 'female' : 'male';\r\n    this.userParams.minAge = 18;\r\n    this.userParams.maxAge = 99;\r\n    this.loadUsers();\r\n  }\r\n\r\n  loadUsers() {\r\n    this.userService.getUsers(this.pagination.currentPage, this.pagination.itemsPerPage, this.userParams)\r\n      .subscribe((res: PaginatedResult<User[]>) => {\r\n        this.users = res.result;\r\n        this.pagination = res.pagination;\r\n    }, error => {\r\n        this.alertify.error(error);\r\n    });\r\n  }\r\n}\r\n","\n<div class=\"text-center mt-3\">\n  <h2>Your matches - {{pagination.totalItems}} found</h2>\n</div>\n\n\n<div class=\"container mt-3\">\n  <form class=\"form-inline\" novalidate>\n    <div class=\"form-group\">\n      <label for=\"minAge\">Age From</label>\n      <input type=\"number\" class=\"form-control ml-1\" style=\"width: 70px\" id=\"minAge\"\n             [(ngModel)]=\"userParams.minAge\" name=\"minAge\">\n    </div>\n\n    <div class=\"form-group px-2\">\n      <label for=\"maxAge\">Age To</label>\n      <input type=\"number\" class=\"form-control ml-1\" style=\"width: 70px\" id=\"maxAge\"\n             [(ngModel)]=\"userParams.maxAge\" name=\"maxAge\">\n    </div>\n\n    <div class=\"form-group px-2\">\n      <label for=\"gender\">Show: </label>\n      <select class=\"form-control ml-1\" style=\"width: 130px\" id=\"gender\"\n              [(ngModel)]=\"userParams.gender\" name=\"gender\">\n        <option *ngFor=\"let gender of genderList\" [value]=\"gender.value\">\n          {{gender.display}}\n        </option>\n      </select>\n    </div>\n    <button type=\"submit\" class=\"btn btn-primary\" (click)=\"loadUsers()\" style=\"margin-left:10px\">Apply Filters</button>\n    <button type=\"button\" class=\"btn btn-info\" (click)=\"resetFilters()\" style=\"margin-left:10px\">Reset Filter</button>\n\n    <div class=\"col\">\n      <div class=\"btn-group float-right\">\n        <button type=\"button\" name=\"orderBy\" class=\"btn btn-primary\" [(ngModel)]=\"userParams.orderBy\"\n               (click)=\"loadUsers()\" btnRadio=\"lastActive\">Last Active</button>\n        <button type=\"button\" name=\"orderBy\" class=\"btn btn-primary\" [(ngModel)]=\"userParams.orderBy\"\n                (click)=\"loadUsers()\" btnRadio=\"created\">Newest Members</button>\n      </div>\n    </div>\n\n  </form>\n  <br>\n  <div class=\"row\">\n    <div *ngFor=\"let user of users\" class=\"col-lg-2 col-md-3 col-sm-6\">\n      <app-member-card [user]=\"user\"></app-member-card>\n    </div>\n  </div>\n</div>\n\n<div class=\"d-flex justify-content-center\">\n  <pagination [totalItems]=\"pagination.totalItems\"  [itemsPerPage]=\"pagination.itemsPerPage\" \n              [(ngModel)]=\"pagination.currentPage\" \n              (pageChanged)=\"pageChanged($event)\" \n              previousText=\"&lsaquo;\" nextText=\"&rsaquo;\" firstText=\"&laquo;\" lastText=\"&raquo;\">\n  </pagination>\n</div>\n","import { Component, OnInit, Input } from '@angular/core';\nimport { Message } from '../../_models/Message';\r\nimport { UserService } from '../../_services/user.service';\r\nimport { AuthService } from '../../_services/auth.service';\r\nimport { AlertifyService } from '../../_services/alertify.service';\r\nimport { tap } from 'rxjs/operators';\r\nimport { CursorError } from '@angular/compiler/src/ml_parser/lexer';\r\n\n@Component({\n  selector: 'app-member-messages',\n  templateUrl: './member-messages.component.html',\n  styleUrls: ['./member-messages.component.css']\n})\nexport class MemberMessagesComponent implements OnInit {\n  @Input() recepientId: number;\n  messages: Message[];\n  newMessage: any = {};\n\n  constructor(private userService: UserService,\n    private authService: AuthService, private alertify: AlertifyService) { }\n\n  ngOnInit(): void {\n    this.loadMessages();\n  }\n\n  loadMessages() {\n    const currentUserId = +this.authService.decodedToken.nameid;\n    this.userService.getMessageThread(this.authService.decodedToken.nameid, this.recepientId)\r\n      .pipe(\r\n        tap(messages => {\r\n          for (let i = 0; i < messages.length; i++) {\r\n            if (messages[i].isRead === false && messages[i].recepientId === currentUserId) {\r\n              this.userService.markAsRead(currentUserId, messages[i].id);\r\n            }\r\n          }\r\n        })\r\n      )\r\n      .subscribe(messages => {\r\n        this.messages = messages;\r\n      }, error => {\r\n          this.alertify.error(error);\r\n      });\r\n  }\n\n  sendMessage() {\n    this.newMessage.recepientId = this.recepientId;\r\n    this.userService.sendMessage(this.authService.decodedToken.nameid, this.newMessage)\r\n      .subscribe((message: Message) => {\r\n        this.messages.unshift(message);\r\n        console.log(message);\r\n        this.newMessage.content = '';\r\n      }, error => {\r\n          this.alertify.error(error);\r\n      });\r\n  }\n}\n","\n<div class=\"card\">\n  <div class=\"card-body\">\n    <div *ngIf=\"messages?.length === 0\">\n      No messages yet... say hi by using the message box below\n    </div>\n\n    <ul class=\"chat\">\n      <li *ngFor=\"let message of messages\">\n        <!-- to them -->\n        <div *ngIf=\"message.senderId == recepientId\">\n          <span class=\"chat-img float-left\">\n            <img src=\"{{ message.senderPhotoUrl }}\"\n                 alt=\"{{ message.senderKnownAs }}\"\n                 class=\"rounded-circle\" />\n          </span>\n          <div class=\"chat-body\">\n            <div class=\"header\">\n              <strong class=\"primary-font\">{{ message.senderKnownAs }}</strong>\n              <small class=\"text-muted float-right\">\n                <span class=\"fa fa-clock-o\">\n                  {{\n                  message.messageSent | timeago\n                  }}\n                </span>\n              </small>\n            </div>\n            <p>{{ message.content }}</p>\n          </div>\n        </div>\n\n        <!-- to me -->\n        <div *ngIf=\"message.senderId != recepientId\">\n          <span class=\"chat-img float-right\">\n            <img src=\"{{ message.senderPhotoUrl }}\"\n                 alt=\"{{ message.senderKnownAs }}\"\n                 class=\"rounded-circle\" />\n          </span>\n          <div class=\"chat-body\">\n            <div class=\"header\">\n              <small class=\"text-muted\">\n                <span class=\"fa fa-clock-o\">\n                  {{\n                  message.messageSent | timeago\n                  }}\n                </span>\n                <span *ngIf=\"!message.isRead\" class=\"text-danger\">(unread)</span>\n                <span *ngIf=\"message.isRead\" class=\"text-success\">(Read {{ message.dateRead | timeago }})</span>\n              </small>\n              <strong class=\"primary-font float-right\">\n                {{\n                message.senderKnownAs\n                }}\n              </strong>\n            </div>\n            <p>{{ message.content }}</p>\n          </div>\n        </div>\n      </li>\n    </ul>\n  </div>\n\n  <div class=\"card-footer\">\n    <form #messageForm=\"ngForm\" (ngSubmit)=\"messageForm.valid && sendMessage()\">\n      <div class=\"input-group\">\n        <input type=\"text\"\n               [(ngModel)]=\"newMessage.content\"\n               name=\"content\"\n               required\n               class=\"form-control input-sm\"\n               placeholder=\"send a private message\" />\n        <div class=\"input-group-append\">\n          <button [disabled]=\"!messageForm.valid\" class=\"btn btn-primary\">\n            Send\n          </button>\n        </div>\n      </div>\n    </form>\n  </div>\n</div>\n","import { Component, Input, OnInit, Output, EventEmitter } from '@angular/core';\r\nimport { FileUploader } from 'ng2-file-upload';\r\nimport { Photo } from '../../_models/photo';\r\nimport { environment } from '../../../environments/environment';\r\nimport { AuthService } from '../../_services/auth.service';\r\nimport { UserService } from '../../_services/user.service';\r\nimport { AlertifyService } from '../../_services/alertify.service';\r\n\r\n@Component({\r\n  selector: 'app-photo-editor',\r\n  templateUrl: './photo-editor.component.html',\r\n  styleUrls: ['./photo-editor.component.css']\r\n})\r\nexport class PhotoEditorComponent implements OnInit {\r\n  @Input() photos: Photo[];\r\n  @Output() getMemberPhotoChange = new EventEmitter<String>();\r\n  uploader: FileUploader;\r\n  hasBaseDropZoneOver: boolean = false;\r\n  hasAnotherDropZoneOver: boolean = false;\r\n  baseUrl = environment.apiUrl;\r\n  currentMain: Photo;\r\n\r\n  constructor(private authService: AuthService, private userService: UserService, private alertify: AlertifyService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.initializeUploader();\r\n  }\r\n\r\n   fileOverbase(e: any): void {\r\n    this.hasBaseDropZoneOver = e;\r\n   }\r\n\r\n  initializeUploader() {\r\n    this.uploader = new FileUploader({\r\n      url: this.baseUrl + 'users/' + this.authService.decodedToken.nameid + '/photos',\r\n      authToken: 'Bearer ' + localStorage.getItem('token'),\r\n      isHTML5: true,\r\n      allowedFileType: ['image'],\r\n      removeAfterUpload: true,\r\n      autoUpload: false,\r\n      maxFileSize: 10 * 1024 * 1024\r\n    });\r\n    this.uploader.onAfterAddingFile = (file) => { file.withCredentials = false; };\r\n    this.uploader.onSuccessItem = (item, response, status, headers) => {\r\n      if (response) {\r\n        const res: Photo = JSON.parse(response);\r\n        const photo = {\r\n          id: res.id,\r\n          url: res.url,\r\n          dateAdded: res.dateAdded,\r\n          description: res.description,\r\n          isMain: res.isMain\r\n        };\r\n        this.photos.push(photo);\r\n        if (photo.isMain) {\r\n          this.authService.changeMemberPhoto(photo.url);\r\n          this.authService.currentUser.photoUrl = photo.url;\r\n          localStorage.setItem('user', JSON.stringify(this.authService.currentUser));\r\n        }\r\n      }\r\n    };\r\n  }\r\n\r\n  setMainPhoto(photo: Photo) {\r\n    this.userService.setMainPhoto(this.authService.decodedToken.nameid, photo.id).subscribe(() => {\r\n      this.currentMain = this.photos.filter(p => p.isMain === true)[0];\r\n      this.currentMain.isMain = false;\r\n      photo.isMain = true;\r\n      this.authService.changeMemberPhoto(photo.url);\r\n      this.authService.currentUser.photoUrl = photo.url;\r\n      localStorage.setItem('user', JSON.stringify(this.authService.currentUser));\r\n    }, error => {\r\n        this.alertify.error(error);\r\n    });\r\n  }\r\n\r\n  deletePhoto(id: number) {\r\n    let self = this;\r\n    console.log(\"1\");\r\n\r\n    self.alertify.confirm(\"Are you sure you want to delete this photo?\",  () => {\r\n      console.log(\"2\");\r\n      self.userService.deletePhoto(this.authService.decodedToken.nameid, id).subscribe(() => {\r\n        console.log(\"3\");\r\n        self.photos.splice(this.photos.findIndex(p => p.id === id), 1);\r\n        self.alertify.success(\"Photo has been deleted.\");\r\n      }, error => {\r\n          console.log(\"4\");\r\n          console.log(error);\r\n          self.alertify.error(\"Failed to delete the photo.\");\r\n      });\r\n    });\r\n  }\r\n\r\n}\r\n","\n<div class=\"row\">\n  <div class=\"col-sm-2\" *ngFor=\"let photo of photos\">\n    <img src=\"{{photo.url}}\" class=\"img-thumbnail p-1\" alt=\"\" />\n    <div class=\"text-center\">\n      <button type=\"button\" class=\"btn btn-sm  mr-1\" (click)=\"setMainPhoto(photo)\" \n              [ngClass]=\"photo.isMain ? 'btn-success active' : 'btn-secondary'\"\n              [disabled]=\"photo.isMain\">Main</button>\n      <button type=\"button\" class=\"btn btn-sm btn-danger\" [disabled]=\"photo.isMain\" (click)=\"deletePhoto(photo.id)\"><i class=\"fa fa-trash fa-trash-o\"></i></button>\n    </div>\n  </div>\n</div>\n\n<div class=\"row mt-3\">\n\n  <div class=\"col-md-3\">\n\n    <h3>Add Photos</h3>\n\n    <div ng2FileDrop\n         [ngClass]=\"{'nv-file-over': hasBaseDropZoneOver}\"\n         (fileOver)=\"fileOverbase($event)\"\n         [uploader]=\"uploader\"\n         class=\"card bg-faded p-3 text-center mb-3 my-drop-zone\">\n      <i class=\"fa fa-upload fa-3x\"></i>\n      Drop Photos Here\n    </div>\n\n    Multiple\n    <input type=\"file\" ng2FileSelect [uploader]=\"uploader\" multiple /><br />\n\n    Single\n    <input type=\"file\" ng2FileSelect [uploader]=\"uploader\" />\n  </div>\n\n  <div class=\"col-md-9\" style=\"margin-bottom: 40px\" *ngIf=\"uploader?.queue?.length\">\n\n    <h3>Upload queue</h3>\n    <p>Queue length: {{ uploader?.queue?.length }}</p>\n\n    <table class=\"table\">\n      <thead>\n        <tr>\n          <th width=\"50%\">Name</th>\n          <th>Size</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr *ngFor=\"let item of uploader.queue\">\n          <td><strong>{{ item?.file?.name }}</strong></td>\n          <td *ngIf=\"uploader.options.isHTML5\" nowrap>{{ item?.file?.size/1024/1024 | number:'.2' }} MB</td>\n        </tr>\n      </tbody>\n    </table>\n\n    <div>\n      <div>\n        Queue progress:\n        <div class=\"progress mb-4\" style=\"\">\n          <div class=\"progress-bar\" role=\"progressbar\" [ngStyle]=\"{ 'width': uploader.progress + '%' }\"></div>\n        </div>\n      </div>\n      <button type=\"button\" class=\"btn btn-success btn-s\"\n              (click)=\"uploader.uploadAll()\" [disabled]=\"!uploader.getNotUploadedItems().length\">\n        <span class=\"fa fa-upload\"></span> Upload all\n      </button>\n      <button type=\"button\" class=\"btn btn-warning btn-s\"\n              (click)=\"uploader.cancelAll()\" [disabled]=\"!uploader.isUploading\">\n        <span class=\"fa fa-ban\"></span> Cancel all\n      </button>\n      <button type=\"button\" class=\"btn btn-danger btn-s\"\n              (click)=\"uploader.clearQueue()\" [disabled]=\"!uploader.queue.length\">\n        <span class=\"fa fa-trash\"></span> Remove all\n      </button>\n    </div>\n\n  </div>\n\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { Message } from '../_models/Message';\r\nimport { Pagination, PaginatedResult } from '../_models/Pagination';\r\nimport { UserService } from '../_services/user.service';\r\nimport { AuthService } from '../_services/auth.service';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { AlertifyService } from '../_services/alertify.service';\r\n\n@Component({\n  selector: 'app-messages',\n  templateUrl: './messages.component.html',\n  styleUrls: ['./messages.component.css']\n})\nexport class MessagesComponent implements OnInit {\n  messages: Message[];\n  pagination: Pagination;\n  messageContainer = 'Unread';\n\n  constructor(private userService: UserService, private authService: AuthService, private route: ActivatedRoute, private alertify: AlertifyService) { }\n\n  ngOnInit(): void {\n    this.route.data.subscribe(data => {\n      this.messages = data['messages'].result;\r\n      this.pagination = data['messages'].pagination;\r\n    });\n  }\n\n  loadMessages() {\n    this.userService.getMessages(this.authService.decodedToken.nameid, this.pagination.currentPage, this.pagination.itemsPerPage, this.messageContainer)\r\n      .subscribe((res: PaginatedResult<Message[]>) => {\r\n        this.messages = res.result;\r\n        this.pagination = res.pagination;\r\n      }, error => {\r\n          this.alertify.error(error);\r\n      });\r\n  }\n\n  deleteMessage(id: number) {\n    this.alertify.confirm(\"Are you sure you want to delete this message\", () => {\r\n      this.userService.deleteMessage(id, this.authService.decodedToken.nameid).subscribe(() => {\r\n        this.messages.splice(this.messages.findIndex(m => m.id === id), 1);\r\n        this.alertify.success(\"Message has been deleted\");\r\n      }, error => {\r\n          this.alertify.error(\"Failed to delete the message\");\r\n      });\r\n    });\r\n  }\n\n  pageChanged(event: any): void {\n    this.pagination.currentPage = event.page;\r\n    this.loadMessages();\r\n  }\n\n}\n","\n<div class=\"container mt-5\">\n  <div class=\"row\">\n    <div class=\"btn-group\">\n      <button class=\"btn btn-primary\" [(ngModel)]=\"messageContainer\" btnRadio=\"Unread\" (click)=\"loadMessages()\">\n        <i class=\"fa fa-envelope\"></i> Unread\n      </button>\n      <button class=\"btn btn-primary\" [(ngModel)]=\"messageContainer\" btnRadio=\"Inbox\" (click)=\"loadMessages()\">\n        <i class=\"fa fa-envelope-open\"></i> Inbox\n      </button>\n      <button class=\"btn btn-primary\" [(ngModel)]=\"messageContainer\" btnRadio=\"Outbox\" (click)=\"loadMessages()\">\n        <i class=\"fa fa-paper-plane\"></i> Outbox\n      </button>\n    </div>\n  </div>\n\n  <div class=\"row\" *ngIf=\"messages.length == 0\">\n    <h3>No messages</h3>\n  </div>\n\n  <div class=\"row\" *ngIf=\"messages.length > 0\">\n    <table class=\"table table-hover\" style=\"cursor: pointer\">\n      <tr>\n        <th style=\"width: 40%\">Message</th>\n        <th style=\"width: 20%\">From / To</th>\n        <th style=\"width: 20%\">Sent / Received</th>\n        <th style=\"width: 20%\"></th>\n      </tr>\n      <tr *ngFor=\"let message of messages\" [routerLink]=\"['/members',\n          messageContainer == 'Outbox' ? message.recipientId : message.senderId]\" [queryParams]=\"{tab: 3}\">\n        <td>{{message.content}}</td>\n        <td>\n          <div *ngIf=\"messageContainer != 'Outbox'\">\n            <img src={{message?.senderPhotoUrl}} class=\"img-circle rounded-circle mr-1\">\n            <strong>{{message.senderKnownAs}}</strong>\n          </div>\n          <div *ngIf=\"messageContainer == 'Outbox'\">\n            <img src={{message?.recipientPhotoUrl}} class=\"img-circle rounded-circle mr-1\">\n            <strong>{{message.recipientKnownAs}}</strong>\n          </div>\n        </td>\n        <td>{{message.messageSent | timeago}}</td>\n        <td>\n          <button class=\"btn btn-danger\" (click)=\"$event.stopPropagation()\" (click)=\"deleteMessage(message.id)\">Delete</button>\n        </td>\n      </tr>\n    </table>\n\n  </div>\n\n</div>\n\n<div class=\"d-flex justify-content-center\">\n  <pagination [boundaryLinks]=\"true\"\n              [totalItems]=\"pagination.totalItems\"\n              [itemsPerPage]=\"pagination.itemsPerPage\"\n              [(ngModel)]=\"pagination.currentPage\"\n              (pageChanged)=\"pageChanged($event)\"\n              previousText=\"&lsaquo;\" nextText=\"&rsaquo;\" firstText=\"&laquo;\" lastText=\"&raquo;\">\n  </pagination>\n</div>\n","import { Component, OnInit } from '@angular/core';\r\nimport { AuthService } from '../_services/auth.service';\r\nimport { AlertifyService } from '../_services/alertify.service';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-nav',\r\n  templateUrl: './nav.component.html',\r\n  styleUrls: ['./nav.component.css']\r\n})\r\nexport class NavComponent implements OnInit {\r\n  model: any = {};\r\n  photoUrl: string;\r\n\r\n  constructor(public authService: AuthService, private alertify: AlertifyService, private router: Router) { }\r\n\r\n  ngOnInit(): void {\r\n    this.authService.currentPhotoUrl.subscribe(photoUrl => this.photoUrl = photoUrl);\r\n  }\r\n\r\n  login() {\r\n    this.authService.login(this.model).subscribe(next => {\r\n      this.alertify.success(\"Logged in successfully!\");\r\n    }, error => {\r\n      console.log(\"Failed to login!\");\r\n      this.alertify.error(error);\r\n    }, () => {\r\n      this.router.navigate(['/members']);\r\n    });\r\n  }\r\n\r\n  loggedIn() {\r\n    return this.authService.loggedIn();\r\n  }\r\n\r\n  logOut() {\r\n    localStorage.removeItem('token');\r\n    localStorage.removeItem('user');\r\n    this.authService.decodedToken = null;\r\n    this.authService.currentUser = null;\r\n    this.alertify.message(\"Logged out!\");\r\n    this.router.navigate(['/home']);\r\n  }\r\n\r\n}\r\n","<nav class=\"navbar navbar-expand-md navbar-dark bg-primary\">\r\n  <div class=\"container\">\r\n    <a class=\"navbar-brand\" [routerLink]=\"['/home']\">Dating App</a>\r\n    <ul *ngIf=\"loggedIn()\" class=\"navbar-nav mr-auto\">\r\n      <li class=\"nav-item\" routerLinkActive=\"active\">\r\n        <a class=\"nav-link\" [routerLink]=\"['/members']\">Matches</a>\r\n      </li>\r\n      <li class=\"nav-item\" routerLinkActive=\"active\">\r\n        <a class=\"nav-link\" [routerLink]=\"['/lists']\">Lists</a>\r\n      </li>\r\n      <li class=\"nav-item\" routerLinkActive=\"active\">\r\n        <a class=\"nav-link\" [routerLink]=\"['/messages']\">Messages</a>\r\n      </li>\r\n    </ul>\r\n\r\n    <div class=\"dropdown\" *ngIf=\"loggedIn()\" dropdown>\r\n      <span class=\"mr-1\">\r\n        <img src=\"{{photoUrl || '../../assets/user.png'}}\" alt=\"\" />\r\n      </span>\r\n      <a class=\"dropdown-toggle text-light\" dropdownToggle>\r\n        Welcome {{authService.decodedToken.unique_name | titlecase}}\r\n      </a>\r\n      <div class=\"dropdown-menu mt-3\" *dropdownMenu>\r\n        <a class=\"dropdown-item\" [routerLink]=\"['/member/edit']\"><i class=\"fa fa-user\"></i>Edit Profile</a>\r\n        <div class=\"dropdown-divider\"></div>\r\n        <a class=\"dropdown-item\" (click)=\"logOut()\"><i class=\"fa fa-sign-out\"></i>Log Out</a>\r\n      </div>\r\n    </div>\r\n\r\n    <form #loginForm=\"ngForm\" *ngIf=\"!loggedIn()\" class=\"form-inline my-2 my-lg-0\" (ngSubmit)=\"login()\">\r\n      <input class=\"form-control mr-sm-2\" type=\"text\" placeholder=\"User Name\" required [(ngModel)]=\"model.username\" name=\"username\">\r\n      <input class=\"form-control mr-sm-2\" type=\"password\" placeholder=\"Password\" required [(ngModel)]=\"model.password\" name=\"password\">\r\n      <button [disabled]=\"!loginForm.valid\" class=\"btn btn-outline-success my-2 my-sm-0\" type=\"submit\">Login</button>\r\n    </form>\r\n  </div>\r\n  \r\n</nav>\r\n","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\nimport { AuthService } from '../_services/auth.service';\r\nimport { AlertifyService } from '../_services/alertify.service';\r\nimport { FormGroup, FormControl, Validators, FormBuilder } from '@angular/forms';\r\nimport { BsDatepickerConfig } from 'ngx-bootstrap/datepicker/public_api';\r\nimport { User } from '../_models/user';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-register',\r\n  templateUrl: './register.component.html',\r\n  styleUrls: ['./register.component.css']\r\n})\r\nexport class RegisterComponent implements OnInit {\r\n  @Input() ValuesFromHome: any;\r\n  @Output() cancelRegister = new EventEmitter();\r\n  user: User;\r\n  registerForm: FormGroup;\r\n  bsConfig: Partial<BsDatepickerConfig>;\r\n\r\n  constructor(private authService: AuthService, private router: Router, private alertify: AlertifyService, private fb: FormBuilder) { }\r\n\r\n  ngOnInit(): void {\r\n    this.bsConfig = {\r\n      containerClass: 'theme-red'\r\n    },\r\n    this.createRegisterForm();\r\n  }\r\n\r\n  createRegisterForm() {\r\n    this.registerForm = this.fb.group({\r\n      gender: ['male'],\r\n      username: ['', Validators.required],\r\n      knownAs: ['', Validators.required],\r\n      dateOfBirth: [null, Validators.required],\r\n      city: ['', Validators.required],\r\n      country: ['', Validators.required],\r\n      password: ['', [Validators.required, Validators.minLength(4), Validators.maxLength(8)]],\r\n      confirmPassword: ['', Validators.required]\r\n    }, { validators: this.passwordMatchValidator });\r\n  }\r\n\r\n  passwordMatchValidator(g: FormGroup) {\r\n    return g.get('password').value === g.get('confirmPassword').value ? null : { 'mismatch': true };\r\n  }\r\n\r\n  register() {\r\n    if (this.registerForm.valid) {\r\n      this.user = Object.assign({}, this.registerForm.value);\r\n      this.authService.register(this.user).subscribe(() => {\r\n        this.alertify.success('Registration Successful');\r\n      }, error => {\r\n          this.alertify.error(error);\r\n      }, () => {\r\n          this.authService.login(this.user).subscribe(() => {\r\n            this.router.navigate(['/members']);\r\n          });\r\n      });\r\n    }\r\n  }\r\n\r\n  cancel() {\r\n    this.cancelRegister.emit(false);\r\n  }\r\n}\r\n","\n  <form [formGroup]=\"registerForm\">\n    <h2 class=\"text-center text-primary\">Sign Up</h2>\n    <hr>\n\n    <div class=\"form-group\">\n      <label class=\"control-label\" style=\"margin-right:10px\">I am a: </label>\n      <label class=\"radio-inline\">\n        <input class=\"mr-3\" type=\"radio\" value=\"male\" formControlName=\"gender\">Male\n      </label>\n      <label class=\"radio-inline ml-3\">\n        <input class=\"mr-3\" type=\"radio\" value=\"female\" formControlName=\"gender\">Female\n      </label>\n    </div>\n\n    <div class=\"form-group\">\n      <input type=\"text\"\n             [ngClass]=\"{'is-invalid': registerForm.get('username').errors && registerForm.get('username').touched }\"\n             class=\"form-control\" formControlName=\"username\" placeholder=\"Username\">\n      <div class=\"invalid-feedback\">Please choose a user name</div>\n    </div>\n\n    <div class=\"form-group\">\n      <input [ngClass]=\"{'is-invalid': registerForm.get('knownAs').errors && registerForm.get('knownAs').touched}\" class=\"form-control\"\n             placeholder=\"Known as\" formControlName=\"knownAs\">\n      <div class=\"invalid-feedback\" *ngIf=\"registerForm.get('knownAs').touched && registerForm.get('knownAs').hasError('required')\">Known as is required</div>\n    </div>\n\n    <div class=\"form-group\">\n      <input [ngClass]=\"{'is-invalid': registerForm.get('dateOfBirth').errors && registerForm.get('dateOfBirth').touched}\" class=\"form-control\"\n             placeholder=\"Date of Birth\" formControlName=\"dateOfBirth\" type=\"text\" bsDatepicker [bsConfig]=\"bsConfig\">\n      <div class=\"invalid-feedback\" *ngIf=\"registerForm.get('dateOfBirth').touched && registerForm.get('dateOfBirth').hasError('required')\">Date of Birth is required</div>\n    </div>\n\n    <div class=\"form-group\">\n      <input [ngClass]=\"{'is-invalid': registerForm.get('city').errors && registerForm.get('city').touched}\" class=\"form-control\"\n             placeholder=\"City\" formControlName=\"city\">\n      <div class=\"invalid-feedback\" *ngIf=\"registerForm.get('city').touched && registerForm.get('city').hasError('required')\">City is required</div>\n    </div>\n\n    <div class=\"form-group\">\n      <input [ngClass]=\"{'is-invalid': registerForm.get('country').errors && registerForm.get('country').touched}\" class=\"form-control\"\n             placeholder=\"Country\" formControlName=\"country\">\n      <div class=\"invalid-feedback\" *ngIf=\"registerForm.get('country').touched && registerForm.get('country').hasError('required')\">Country is required</div>\n    </div>\n\n    <div class=\"form-group\">\n      <input type=\"password\"\n             [ngClass]=\"{'is-invalid': registerForm.get('password').errors && registerForm.get('password').touched }\"\n             class=\"form-control\" formControlName=\"password\" placeholder=\"Password\">\n      <div class=\"invalid-feedback\" *ngIf=\"registerForm.get('password').hasError('required') && registerForm.get('password').touched\">Password is required</div>\n      <div class=\"invalid-feedback\" *ngIf=\"registerForm.get('password').hasError('minlength') && registerForm.get('password').touched\">Password must be at least 4 characters</div>\n      <div class=\"invalid-feedback\" *ngIf=\"registerForm.get('password').hasError('maxlength') && registerForm.get('password').touched\">Password can not exceed 8 characters</div>\n    </div>\n\n    <div class=\"form-group\">\n      <input type=\"password\"\n             [ngClass]=\"{'is-invalid': registerForm.get('confirmPassword').errors && registerForm.get('confirmPassword').touched\n             || registerForm.get('confirmPassword').touched && registerForm.hasError('mismatch')}\"\n             class=\"form-control\" formControlName=\"confirmPassword\" placeholder=\"Confirm Password\">\n      <div class=\"invalid-feedback\" *ngIf=\"registerForm.get('confirmPassword').hasError('required') && registerForm.get('confirmPassword').touched\">Password is required</div>\n      <div class=\"invalid-feedback\" *ngIf=\"registerForm.hasError('mismatch') && registerForm.get('confirmPassword').touched\">Passwords must match</div>\n    </div>\n\n    <div class=\"form-group text-center\">\n      <button class=\"btn btn-success\" type=\"submit\" [disabled]=\"!registerForm.valid\" (click)=\"register()\">Register</button>\n      <button class=\"btn btn-default\" type=\"button\" (click)=\"cancel()\">Cancel</button>\n    </div>\n\n  </form>\n\n","import { Routes } from '@angular/router';\r\nimport { HomeComponent } from './home/home.component';\r\nimport { MemberListComponent } from './members/member-list/member-list.component';\r\nimport { ListsComponent } from './lists/lists.component';\r\nimport { MessagesComponent } from './messages/messages.component';\r\nimport { AuthGuard } from './_guards/auth.guard';\r\nimport { MemberDetailComponent } from './members/member-detail/member-detail.component';\r\nimport { MemberDetailResolver } from './_resolvers/member-detail.resolver';\r\nimport { MemberListResolver } from './_resolvers/member-list.resolver';\r\nimport { MemberEditComponent } from './members/member-edit/member-edit.component';\r\nimport { MemberEditResolver } from './_resolvers/member-edit.resolver';\r\nimport { PreventUnsavedChanges } from './_guards/prevent-unsaved-changes.guard';\r\nimport { ListsResolver } from './_resolvers/lists.resolver';\r\nimport { MessagesResolver } from './_resolvers/messages.resolver';\r\n\r\n\r\nexport const appRoutes: Routes = [\r\n  { path: '', component: HomeComponent },\r\n  { path: 'members', component: MemberListComponent, resolve: { users: MemberListResolver }, canActivate: [AuthGuard] },\r\n  { path: 'members/:id', component: MemberDetailComponent, resolve: { user: MemberDetailResolver }, canActivate: [AuthGuard] },\r\n  { path: 'member/edit', component: MemberEditComponent, resolve: { user: MemberEditResolver }, canActivate: [AuthGuard], canDeactivate: [PreventUnsavedChanges] },\r\n  { path: 'lists', component: ListsComponent, resolve: { users: ListsResolver }, canActivate: [AuthGuard] },\r\n  { path: 'messages', component: MessagesComponent, canActivate: [AuthGuard], resolve: { messages: MessagesResolver } },\r\n  { path: '**', redirectTo: '', pathMatch: 'full' }\r\n];\r\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false,\n  apiUrl: 'http://localhost:5000/api/'\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"]}